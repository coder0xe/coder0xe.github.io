<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>verilog | coder0xe's blog</title><meta name=keywords content="计组"><meta name=description content="verilog相关"><meta name=author content="sudo"><link rel=canonical href=https://coder0xe.github.io/posts/verilog/><link crossorigin=anonymous href=/assets/css/stylesheet.e4a36188e2c44563c1cc5ed1a2d0b8451a4f68c685114d738b97609f82dae050.css integrity="sha256-5KNhiOLERWPBzF7RotC4RRpPaMaFEU1zi5dgn4La4FA=" rel="preload stylesheet" as=style><link rel=icon href=https://coder0xe.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://coder0xe.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://coder0xe.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://coder0xe.github.io/apple-touch-icon.png><link rel=mask-icon href=https://coder0xe.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://coder0xe.github.io/posts/verilog/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://coder0xe.github.io/posts/verilog/"><meta property="og:site_name" content="coder0xe's blog"><meta property="og:title" content="verilog"><meta property="og:description" content="verilog相关"><meta property="og:locale" content="zh-CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-10-14T08:22:00+08:00"><meta property="article:modified_time" content="2023-10-14T08:22:00+08:00"><meta property="article:tag" content="Oct"><meta name=twitter:card content="summary"><meta name=twitter:title content="verilog"><meta name=twitter:description content="verilog相关"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://coder0xe.github.io/posts/"},{"@type":"ListItem","position":2,"name":"verilog","item":"https://coder0xe.github.io/posts/verilog/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"verilog","name":"verilog","description":"verilog相关","keywords":["计组"],"articleBody":"verilog(P1课前复习) 长文，做好战斗准备！\n1.同步复位与异步复位 1.同步复位 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 //复位信号高电平有效 always@(posedge clk) begin if(clr) begin status \u003c= 4'b0000; end else begin //statement end end //复位信号低电平有效 always@(posedge clk) begin if(!clr) begin status \u003c= 4'b0000; end else begin //statement end end 2.异步复位 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 //复位信号高电平有效 always@(posedge clk or posedge clr) begin if(clr) begin status \u003c= 4'b0000; end else begin //statement end end //复位信号低电平有效 always@(posedge clk or negedge clr) begin if(!clr) begin status \u003c= 4'b0000; end else begin //statement end end ​\t异步复位将clr加入敏感符号列表\n2.为状态机编写可显示状态名称的testbench ​\t**编写testbench是我们在本地进行模块动态语法检查和功能检查的重要手段：一定要在本地编写testbench!不编写testbench的语法检查不完全！**编写testbench的一个重要目的是进行debug,但是Isim默认的仿真波形图只有输入变量和输出变量，引出第一步：在波形图中添加模块中变量进行查看。\n1.如何在波形图中添加其他变量 如果在左侧页面没有Instance and Process窗口，左上方菜单栏:View-\u003epanel,添加想要查看的窗口 在Instance and Process窗口中展开tb模块，展开uut实例，点击下面的选项，在右侧Objects窗口中就会出现此模块中包含的变量，右键变量名，选择Add to wave window即可加入到波形图中进行查看。实操如下图所示。 2.如何显示出表示状态的字符串 ​\t我们知道，在编写testbench时我们不会额外引入变量，而只是对输入端口进行模拟，故如果想要在波形图中查看状态名称，就要在verilog module中添加用于存储与状态对应的字符串变量的寄存器变量，之后将这个变量添加到查看波形图中。添加变量并建立起与状态之间的对应关系如下例。\n1 2 3 4 5 6 7 8 9 10 `ifndef SYSTHESIS reg [23:0] state_string; always@(*)begin case(status): s0:state_string = \"s0\"; s1:state_string = \"s1\"; default:state_string = \"s99\"; endcase end `endif ​\t在波形图中显示的数值默认都是多位二进制，可以点击变量右键-\u003eRadix，将字符串更改为ASCII表示。\n注意：\nstate_string的位宽由最大显示字符个数决定1word = 8bits,即位宽 = 字符数*8\n提交文件中编写此宏定义语句块并不会影响正常测评\n3.在testbench模块中模拟输入 ​\t这里直接给出例子，模拟比较简单，注意延迟时间的设置。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 module block_tb; // Inputs reg clk; reg reset; reg [7:0] in; // Outputs wire result; // Instantiate the Unit Under Test (UUT) BlockChecker uut ( .clk(clk), .reset(reset), .in(in), .result(result) ); initial begin // Initialize Inputs clk = 0; reset = 1; in = 0; // Wait 10 ns for global reset to finish #10; // Add stimulus here #10 reset = 0; in = \"a\"; #10 in = \" \"; end always #5 clk = ~clk; endmodule 注意：\n时序逻辑中有reset信号的一定要初始化为1再修改为0 在初始化模块外编写时钟信号always #5 clk = ~clk,这里表示时钟周期为5ns 3.verilog代码规范 1.变量命名 1.信号名称采用全小写，单词之间下划线分隔，snake_case 2.信号低电平有效时用_n后缀表示，rst_n 2.组合逻辑 1.采用always描述组合逻辑时，列表内用*而不是列举敏感信号 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 //right always@(*) begin if(rst_n)begin c = a + b; end else begin c = 1'b0; end end //worse always@(a,b) begin if(rst_n)begin c = a + b; end else begin c = 1'b0; end end 2.always块中如果使用if,则每个分支下都需要进行赋值 3.组合逻辑中只使用阻塞赋值= 4.可以使用assign表示组合逻辑 5.对于复杂表达式涉及到符号性，确定最外层表达式符号+向内传播，或者直接将有符号运算抽离出来设置变量（更加建议） 3.时序逻辑 1.一般情况下使用上升沿posedge进行触发 2.只使用非阻塞赋值 \u003c= 3.使用localparam命名状态机各个状态 1 2 3 4 5 6 // GOOD localparam sInit = 2'd0; localparam sIdle = 2'd1; localparam sWork = 2'd2; localparam sDone = 2'd3; reg [1:0] state; 4.不要在敏感列表以外的地方使用时钟信号 5.不要在多个always块内为同一变量赋值 4.数制与位拼接 ​\t在P1_Q3_ext一题中，我遇到了位拼接相关的问题，总结如下：\n在verilog语法中，当常量不说明位数时默认为32位，进制为十进制，故在位拼接中应尤其注意指明常量的位数 截取某一信号的某几位in[n:m] 表示,如果表示全部保留这个信号，直接用变量名表达in 表示重复的位数，16{imm[15]}外也应有大括号，表达为{16{imm[15]}} 5.关于assign与always@(*)——组合逻辑的转写 ​\t在P1课下提交的六指令ALU构造中，遇到了有关符号数处理的相关问题，在初始状态下的assign+三目运算符+子表达式的情况下很容易就将子表达式的符号性自顶向下传播没了QWQ导致运算结果错误，我的初版代码中，将表达式状态拆分为assign+三目运算符+变量的形式，即将运算提前存储在wire变量中,三目运算符实际上是对值进行选择，这样也就无所谓符号问题。\n​\t在复习过程中，我突然想到这种复杂的由多个三目运算符构成的表达式完全可以由分支结构代替，在编写的过程中我发现：\n在always块中进行赋值的只能为reg类型的变量，故需要设置新的变量来存储值，或者改变输出端口的数据类型(这两种方法都可以AC) assign不能在always块或initial块中使用 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 //将输出端口改为reg类型，直接在always块中进行赋值 module alu ( input [31:0] A, input [31:0] B, input [2:0] ALUOp, output reg [31:0] C ); always @(*) begin if(ALUOp == 3'b000) C = A + B; else if(ALUOp == 3'b001) C = A - B; else if(ALUOp == 3'b010) C = A \u0026 B; else if(ALUOp == 3'b011) C = A | B; else if(ALUOp == 3'b100) C = A \u003e\u003e B; else C = $signed(A)\u003e\u003e\u003eB; end endmodule //设置中间变量寄存器，最后 assign C = tmp; module alu ( input [31:0] A, input [31:0] B, input [2:0] ALUOp, output [31:0] C ); reg [31:0] tmp; always @(*) begin if(ALUOp == 3'b000) tmp = A + B; else if(ALUOp == 3'b001) tmp = A - B; else if(ALUOp == 3'b010) tmp = A \u0026 B; else if(ALUOp == 3'b011) tmp = A | B; else if(ALUOp == 3'b100) tmp = A \u003e\u003e B; else tmp = $signed(A)\u003e\u003e\u003eB; end assign C = tmp; endmodule 6.组合逻辑语法和时序逻辑语法 注意：verilog中无自增自减运算符\n1.initial ​\tinitial后紧跟的语句或顺序语句块在硬件仿真开始时就会进行，且只会运行一次，可以用于为寄存器赋初值，initial块是不可综合的！因此，考虑到综合性，我们一般使用reset信号进行赋初值操作。\n1 2 3 4 reg a; initial begin a = 1'b0; end 2.always ​\talways块在时序逻辑和组合逻辑中都有应用，需要注意的是always块中不能使用assign语句。不能在多个always块中对一个变量进行赋值且always块中只能对reg型变量进行赋值。\n1 2 3 4 5 6 7 8 9 10 //组合逻辑 reg型数据与阻塞赋值配合 always@(*) begin a = A + B; end //时序逻辑 非阻塞赋值 always@(posedge clk) begin a \u003c= A + B; end 3.if ​\tif-else if -else模块只能出现在顺序块中，顺序块(以begin开始，以end表示结束),所有的else语句都应写出。\n1 2 3 4 5 6 7 8 9 //组合逻辑 always@(*)begin if(a\u003eb)begin out = a; end else begin out = b; end end 5.case ​\tcase语句只能出现在顺序块中，分支也只能是语句或顺序块，case语句一定要注意编写default,不要忘记endcase!\n1 2 3 4 5 6 7 8 9 10 always@(posedge clk) begin case(data) 0: out \u003c= 4; 1: out \u003c= 5; 2: out \u003c= 2; 3: out \u003c= 1 default : out \u003c= 0; endcase end 6.for ​\t循环变量可以为integer或reg类型，使用reg类型作为循环变量时要合理设置位宽。\n1 2 3 4 5 6 7 8 9 10 11 12 13 module test( input [1:0] x, output reg [3:0] ans //将输出变量定义为reg类型可以直接在always中进行赋值 ); integer i;//循环变量定义在always语句块之外 always @(*) begin ans = 0; for(i=0;i\u003c3;i=i+1) begin ans = ans + x; end end endmodule 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 //七人投票表决器 module vote7 ( input [6:0] vote, output reg pass ); reg [2:0] sum; integet i; always@(vote)begin sum = 3'b000; for(i = 0; i \u003c 7 ; i = i + 1) begin if(vote[i]) sum = sum + 1; end if(sum \u003e= 3'd4) pass = 1'b1; else pass = 1'b0; end endmodule 7.while 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 //统计八位二进制数中1的位数 module counts1_while( input clk, input [7:0] rega, output reg [3:0] count ); always@(posedge clk)begin:count1 reg[7:0] tempreg; count = 0; tempreg = rega; while(tempreg)begin if(tempreg[0]) count = count + 1; tempreg = tempreg \u003e\u003e 1' end end endmodule ","wordCount":"898","inLanguage":"en","datePublished":"2023-10-14T08:22:00+08:00","dateModified":"2023-10-14T08:22:00+08:00","author":{"@type":"Person","name":"sudo"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://coder0xe.github.io/posts/verilog/"},"publisher":{"@type":"Organization","name":"coder0xe's blog","logo":{"@type":"ImageObject","url":"https://coder0xe.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://coder0xe.github.io/ accesskey=h title="coder0xe's blog (Alt + H)">coder0xe's blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://coder0xe.github.io/ title=首页><span>首页</span></a></li><li><a href=https://coder0xe.github.io/categories/ title=分类><span>分类</span></a></li><li><a href=https://coder0xe.github.io/tags/ title=标签><span>标签</span></a></li><li><a href=https://coder0xe.github.io/archives/ title=归档><span>归档</span></a></li><li><a href=https://coder0xe.github.io/search/ title=搜索><span>搜索</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://coder0xe.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://coder0xe.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">verilog</h1><div class=post-description>verilog相关</div><div class=post-meta><span title='2023-10-14 08:22:00 +0800 +0800'>October 14, 2023</span>&nbsp;·&nbsp;<span>5 min</span>&nbsp;·&nbsp;<span>sudo</span></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#verilogp1%e8%af%be%e5%89%8d%e5%a4%8d%e4%b9%a0 aria-label=verilog(P1课前复习)>verilog(P1课前复习)</a><ul><li><a href=#1%e5%90%8c%e6%ad%a5%e5%a4%8d%e4%bd%8d%e4%b8%8e%e5%bc%82%e6%ad%a5%e5%a4%8d%e4%bd%8d aria-label=1.同步复位与异步复位>1.同步复位与异步复位</a><ul><li><a href=#1%e5%90%8c%e6%ad%a5%e5%a4%8d%e4%bd%8d aria-label=1.同步复位>1.同步复位</a></li><li><a href=#2%e5%bc%82%e6%ad%a5%e5%a4%8d%e4%bd%8d aria-label=2.异步复位>2.异步复位</a></li></ul></li><li><a href=#2%e4%b8%ba%e7%8a%b6%e6%80%81%e6%9c%ba%e7%bc%96%e5%86%99%e5%8f%af%e6%98%be%e7%a4%ba%e7%8a%b6%e6%80%81%e5%90%8d%e7%a7%b0%e7%9a%84testbench aria-label=2.为状态机编写可显示状态名称的testbench>2.为状态机编写可显示状态名称的testbench</a><ul><li><a href=#1%e5%a6%82%e4%bd%95%e5%9c%a8%e6%b3%a2%e5%bd%a2%e5%9b%be%e4%b8%ad%e6%b7%bb%e5%8a%a0%e5%85%b6%e4%bb%96%e5%8f%98%e9%87%8f aria-label=1.如何在波形图中添加其他变量>1.如何在波形图中添加其他变量</a></li><li><a href=#2%e5%a6%82%e4%bd%95%e6%98%be%e7%a4%ba%e5%87%ba%e8%a1%a8%e7%a4%ba%e7%8a%b6%e6%80%81%e7%9a%84%e5%ad%97%e7%ac%a6%e4%b8%b2 aria-label=2.如何显示出表示状态的字符串>2.如何显示出表示状态的字符串</a></li><li><a href=#3%e5%9c%a8testbench%e6%a8%a1%e5%9d%97%e4%b8%ad%e6%a8%a1%e6%8b%9f%e8%be%93%e5%85%a5 aria-label=3.在testbench模块中模拟输入>3.在testbench模块中模拟输入</a></li></ul></li><li><a href=#3verilog%e4%bb%a3%e7%a0%81%e8%a7%84%e8%8c%83 aria-label=3.verilog代码规范>3.verilog代码规范</a><ul><li><a href=#1%e5%8f%98%e9%87%8f%e5%91%bd%e5%90%8d aria-label=1.变量命名>1.变量命名</a><ul><li><a href=#1%e4%bf%a1%e5%8f%b7%e5%90%8d%e7%a7%b0%e9%87%87%e7%94%a8%e5%85%a8%e5%b0%8f%e5%86%99%e5%8d%95%e8%af%8d%e4%b9%8b%e9%97%b4%e4%b8%8b%e5%88%92%e7%ba%bf%e5%88%86%e9%9a%94snake_case aria-label=1.信号名称采用全小写，单词之间下划线分隔，snake_case>1.信号名称采用全小写，单词之间下划线分隔，snake_case</a></li><li><a href=#2%e4%bf%a1%e5%8f%b7%e4%bd%8e%e7%94%b5%e5%b9%b3%e6%9c%89%e6%95%88%e6%97%b6%e7%94%a8_n%e5%90%8e%e7%bc%80%e8%a1%a8%e7%a4%barst_n aria-label=2.信号低电平有效时用_n后缀表示，rst_n>2.信号低电平有效时用_n后缀表示，rst_n</a></li></ul></li><li><a href=#2%e7%bb%84%e5%90%88%e9%80%bb%e8%be%91 aria-label=2.组合逻辑>2.组合逻辑</a><ul><li><a href=#1%e9%87%87%e7%94%a8always%e6%8f%8f%e8%bf%b0%e7%bb%84%e5%90%88%e9%80%bb%e8%be%91%e6%97%b6%e5%88%97%e8%a1%a8%e5%86%85%e7%94%a8%e8%80%8c%e4%b8%8d%e6%98%af%e5%88%97%e4%b8%be%e6%95%8f%e6%84%9f%e4%bf%a1%e5%8f%b7 aria-label=1.采用always描述组合逻辑时，列表内用*而不是列举敏感信号>1.采用always描述组合逻辑时，列表内用*而不是列举敏感信号</a></li><li><a href=#2always%e5%9d%97%e4%b8%ad%e5%a6%82%e6%9e%9c%e4%bd%bf%e7%94%a8if%e5%88%99%e6%af%8f%e4%b8%aa%e5%88%86%e6%94%af%e4%b8%8b%e9%83%bd%e9%9c%80%e8%a6%81%e8%bf%9b%e8%a1%8c%e8%b5%8b%e5%80%bc aria-label=2.always块中如果使用if,则每个分支下都需要进行赋值>2.always块中如果使用if,则每个分支下都需要进行赋值</a></li><li><a href=#3%e7%bb%84%e5%90%88%e9%80%bb%e8%be%91%e4%b8%ad%e5%8f%aa%e4%bd%bf%e7%94%a8%e9%98%bb%e5%a1%9e%e8%b5%8b%e5%80%bc aria-label="3.组合逻辑中只使用阻塞赋值=">3.组合逻辑中只使用阻塞赋值=</a></li><li><a href=#4%e5%8f%af%e4%bb%a5%e4%bd%bf%e7%94%a8assign%e8%a1%a8%e7%a4%ba%e7%bb%84%e5%90%88%e9%80%bb%e8%be%91 aria-label=4.可以使用assign表示组合逻辑>4.可以使用assign表示组合逻辑</a></li><li><a href=#5%e5%af%b9%e4%ba%8e%e5%a4%8d%e6%9d%82%e8%a1%a8%e8%be%be%e5%bc%8f%e6%b6%89%e5%8f%8a%e5%88%b0%e7%ac%a6%e5%8f%b7%e6%80%a7%e7%a1%ae%e5%ae%9a%e6%9c%80%e5%a4%96%e5%b1%82%e8%a1%a8%e8%be%be%e5%bc%8f%e7%ac%a6%e5%8f%b7%e5%90%91%e5%86%85%e4%bc%a0%e6%92%ad%e6%88%96%e8%80%85%e7%9b%b4%e6%8e%a5%e5%b0%86%e6%9c%89%e7%ac%a6%e5%8f%b7%e8%bf%90%e7%ae%97%e6%8a%bd%e7%a6%bb%e5%87%ba%e6%9d%a5%e8%ae%be%e7%bd%ae%e5%8f%98%e9%87%8f%e6%9b%b4%e5%8a%a0%e5%bb%ba%e8%ae%ae aria-label=5.对于复杂表达式涉及到符号性，确定最外层表达式符号+向内传播，或者直接将有符号运算抽离出来设置变量（更加建议）>5.对于复杂表达式涉及到符号性，确定最外层表达式符号+向内传播，或者直接将有符号运算抽离出来设置变量（更加建议）</a></li></ul></li><li><a href=#3%e6%97%b6%e5%ba%8f%e9%80%bb%e8%be%91 aria-label=3.时序逻辑>3.时序逻辑</a><ul><li><a href=#1%e4%b8%80%e8%88%ac%e6%83%85%e5%86%b5%e4%b8%8b%e4%bd%bf%e7%94%a8%e4%b8%8a%e5%8d%87%e6%b2%bfposedge%e8%bf%9b%e8%a1%8c%e8%a7%a6%e5%8f%91 aria-label=1.一般情况下使用上升沿posedge进行触发>1.一般情况下使用上升沿posedge进行触发</a></li><li><a href=#2%e5%8f%aa%e4%bd%bf%e7%94%a8%e9%9d%9e%e9%98%bb%e5%a1%9e%e8%b5%8b%e5%80%bc- aria-label="2.只使用非阻塞赋值 <=">2.只使用非阻塞赋值 &lt;=</a></li><li><a href=#3%e4%bd%bf%e7%94%a8localparam%e5%91%bd%e5%90%8d%e7%8a%b6%e6%80%81%e6%9c%ba%e5%90%84%e4%b8%aa%e7%8a%b6%e6%80%81 aria-label=3.使用localparam命名状态机各个状态>3.使用localparam命名状态机各个状态</a></li><li><a href=#4%e4%b8%8d%e8%a6%81%e5%9c%a8%e6%95%8f%e6%84%9f%e5%88%97%e8%a1%a8%e4%bb%a5%e5%a4%96%e7%9a%84%e5%9c%b0%e6%96%b9%e4%bd%bf%e7%94%a8%e6%97%b6%e9%92%9f%e4%bf%a1%e5%8f%b7 aria-label=4.不要在敏感列表以外的地方使用时钟信号>4.不要在敏感列表以外的地方使用时钟信号</a></li></ul></li><li><a href=#5%e4%b8%8d%e8%a6%81%e5%9c%a8%e5%a4%9a%e4%b8%aaalways%e5%9d%97%e5%86%85%e4%b8%ba%e5%90%8c%e4%b8%80%e5%8f%98%e9%87%8f%e8%b5%8b%e5%80%bc aria-label=5.不要在多个always块内为同一变量赋值>5.不要在多个always块内为同一变量赋值</a></li></ul></li><li><a href=#4%e6%95%b0%e5%88%b6%e4%b8%8e%e4%bd%8d%e6%8b%bc%e6%8e%a5 aria-label=4.数制与位拼接>4.数制与位拼接</a></li><li><a href=#5%e5%85%b3%e4%ba%8eassign%e4%b8%8ealways%e7%bb%84%e5%90%88%e9%80%bb%e8%be%91%e7%9a%84%e8%bd%ac%e5%86%99 aria-label=5.关于assign与always@(*)——组合逻辑的转写>5.关于assign与always@(*)——组合逻辑的转写</a></li><li><a href=#6%e7%bb%84%e5%90%88%e9%80%bb%e8%be%91%e8%af%ad%e6%b3%95%e5%92%8c%e6%97%b6%e5%ba%8f%e9%80%bb%e8%be%91%e8%af%ad%e6%b3%95 aria-label=6.组合逻辑语法和时序逻辑语法>6.组合逻辑语法和时序逻辑语法</a><ul><li><a href=#1initial aria-label=1.initial>1.initial</a></li><li><a href=#2always aria-label=2.always>2.always</a></li><li><a href=#3if aria-label=3.if>3.if</a></li><li><a href=#5case aria-label=5.case>5.case</a></li><li><a href=#6for aria-label=6.for>6.for</a></li><li><a href=#7while aria-label=7.while>7.while</a></li></ul></li></ul></li></ul></div></details></div><div class=post-content><h3 id=verilogp1课前复习>verilog(P1课前复习)<a hidden class=anchor aria-hidden=true href=#verilogp1课前复习>#</a></h3><p><strong>长文，做好战斗准备！</strong></p><h4 id=1同步复位与异步复位>1.同步复位与异步复位<a hidden class=anchor aria-hidden=true href=#1同步复位与异步复位>#</a></h4><h5 id=1同步复位>1.同步复位<a hidden class=anchor aria-hidden=true href=#1同步复位>#</a></h5><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#6272a4>//复位信号高电平有效
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>always</span>@(<span style=color:#ff79c6>posedge</span> clk)
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>if</span>(clr)
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>               status <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>4</span><span style=color:#bd93f9>&#39;b0000</span>; 
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>else</span> 
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>                <span style=color:#6272a4>//statement
</span></span></span><span style=display:flex><span>            <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span><span style=color:#6272a4>//复位信号低电平有效
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>always</span>@(<span style=color:#ff79c6>posedge</span> clk)
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>if</span>(<span style=color:#ff79c6>!</span>clr)
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>               status <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>4</span><span style=color:#bd93f9>&#39;b0000</span>; 
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>else</span> 
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>                <span style=color:#6272a4>//statement
</span></span></span><span style=display:flex><span>            <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>end</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=2异步复位>2.异步复位<a hidden class=anchor aria-hidden=true href=#2异步复位>#</a></h5><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#6272a4>//复位信号高电平有效
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>always</span>@(<span style=color:#ff79c6>posedge</span> clk <span style=color:#ff79c6>or</span> <span style=color:#ff79c6>posedge</span> clr)
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>if</span>(clr)
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>                status <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>4</span><span style=color:#bd93f9>&#39;b0000</span>;
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>else</span>
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>                <span style=color:#6272a4>//statement
</span></span></span><span style=display:flex><span>            <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span><span style=color:#6272a4>//复位信号低电平有效
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>always</span>@(<span style=color:#ff79c6>posedge</span> clk <span style=color:#ff79c6>or</span> <span style=color:#ff79c6>negedge</span> clr)
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>if</span>(<span style=color:#ff79c6>!</span>clr)
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>                status <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>4</span><span style=color:#bd93f9>&#39;b0000</span>;
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>else</span>
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>                <span style=color:#6272a4>//statement
</span></span></span><span style=display:flex><span>            <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>end</span>
</span></span></code></pre></td></tr></table></div></div><p>​ <strong>异步复位将clr加入敏感符号列表</strong></p><h4 id=2为状态机编写可显示状态名称的testbench>2.为状态机编写可显示状态名称的testbench<a hidden class=anchor aria-hidden=true href=#2为状态机编写可显示状态名称的testbench>#</a></h4><p>​ **编写testbench是我们在本地进行模块动态语法检查和功能检查的重要手段：一定要在本地编写testbench!不编写testbench的语法检查不完全！**编写testbench的一个重要目的是进行<code>debug</code>,但是<code>Isim</code>默认的仿真波形图只有输入变量和输出变量，引出第一步：在波形图中添加模块中变量进行查看。</p><h5 id=1如何在波形图中添加其他变量>1.如何在波形图中添加其他变量<a hidden class=anchor aria-hidden=true href=#1如何在波形图中添加其他变量>#</a></h5><ol><li>如果在左侧页面没有<code>Instance and Process</code>窗口，左上方菜单栏:<code>View</code>-><code>panel</code>,添加想要查看的窗口</li><li>在<code>Instance and Process</code>窗口中展开tb模块，展开uut实例，点击下面的选项，在右侧<code>Objects</code>窗口中就会出现此模块中包含的变量，右键变量名，选择<code>Add to wave window</code>即可加入到波形图中进行查看。实操如下图所示。</li></ol><p><img alt=P1_1 loading=lazy src=/img/P1_1.png></p><h5 id=2如何显示出表示状态的字符串>2.如何显示出表示状态的字符串<a hidden class=anchor aria-hidden=true href=#2如何显示出表示状态的字符串>#</a></h5><p>​ 我们知道，在编写<code>testbench</code>时我们不会额外引入变量，而只是对输入端口进行模拟，故如果想要在波形图中查看状态名称，就要在<code>verilog module</code>中添加用于存储与状态对应的字符串变量的寄存器变量，之后将这个变量添加到查看波形图中。添加变量并建立起与状态之间的对应关系如下例。</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-verilog data-lang=verilog><span style=display:flex><span>`ifndef SYSTHESIS
</span></span><span style=display:flex><span><span style=color:#8be9fd>reg</span> [<span style=color:#bd93f9>23</span><span style=color:#ff79c6>:</span><span style=color:#bd93f9>0</span>] state_string;
</span></span><span style=display:flex><span><span style=color:#ff79c6>always</span>@(<span style=color:#ff79c6>*</span>)<span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>case</span>(status)<span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>         <span style=color:#8be9fd;font-style:italic>s0:</span>state_string <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;s0&#34;</span>;
</span></span><span style=display:flex><span>         <span style=color:#8be9fd;font-style:italic>s1:</span>state_string <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;s1&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>default</span><span style=color:#ff79c6>:</span>state_string <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;s99&#34;</span>;
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>endcase</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span>`endif
</span></span></code></pre></td></tr></table></div></div><p>​ 在波形图中显示的数值默认都是多位二进制，可以点击变量<code>右键->Radix</code>，将字符串更改为ASCII表示。</p><p><img alt=P1_2 loading=lazy src=/img/P1_2.png></p><p><strong>注意：</strong></p><ol><li><p>state_string的位宽由最大显示字符个数决定<code>1word = 8bits</code>,即<code>位宽 = 字符数*8</code></p></li><li><p>提交文件中编写此宏定义语句块并不会影响正常测评</p></li></ol><h5 id=3在testbench模块中模拟输入>3.在testbench模块中模拟输入<a hidden class=anchor aria-hidden=true href=#3在testbench模块中模拟输入>#</a></h5><p>​ 这里直接给出例子，模拟比较简单，注意延迟时间的设置。</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#ff79c6>module</span> block_tb;
</span></span><span style=display:flex><span>	<span style=color:#6272a4>// Inputs
</span></span></span><span style=display:flex><span>	<span style=color:#8be9fd>reg</span> clk;
</span></span><span style=display:flex><span>	<span style=color:#8be9fd>reg</span> reset;
</span></span><span style=display:flex><span>	<span style=color:#8be9fd>reg</span> [<span style=color:#bd93f9>7</span><span style=color:#ff79c6>:</span><span style=color:#bd93f9>0</span>] in;
</span></span><span style=display:flex><span>	<span style=color:#6272a4>// Outputs
</span></span></span><span style=display:flex><span>	<span style=color:#8be9fd>wire</span> result;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#6272a4>// Instantiate the Unit Under Test (UUT)
</span></span></span><span style=display:flex><span>	BlockChecker uut (
</span></span><span style=display:flex><span>		.clk(clk), 
</span></span><span style=display:flex><span>		.reset(reset), 
</span></span><span style=display:flex><span>		.in(in), 
</span></span><span style=display:flex><span>		.result(result)
</span></span><span style=display:flex><span>	);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#ff79c6>initial</span> <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>		<span style=color:#6272a4>// Initialize Inputs
</span></span></span><span style=display:flex><span>		clk <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>;
</span></span><span style=display:flex><span>		reset <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>1</span>;
</span></span><span style=display:flex><span>		in <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#6272a4>// Wait 10 ns for global reset to finish
</span></span></span><span style=display:flex><span>		#<span style=color:#bd93f9>10</span>;
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>		<span style=color:#6272a4>// Add stimulus here
</span></span></span><span style=display:flex><span>		#<span style=color:#bd93f9>10</span> reset <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>;
</span></span><span style=display:flex><span>		in <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;a&#34;</span>;
</span></span><span style=display:flex><span>		#<span style=color:#bd93f9>10</span> in <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34; &#34;</span>;
</span></span><span style=display:flex><span>	<span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>always</span> #<span style=color:#bd93f9>5</span> clk <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>~</span>clk;
</span></span><span style=display:flex><span><span style=color:#ff79c6>endmodule</span>
</span></span></code></pre></td></tr></table></div></div><p>注意：</p><ol><li>时序逻辑中有reset信号的一定要初始化为1再修改为0</li><li>在初始化模块外编写时钟信号<code>always #5 clk = ~clk</code>,这里表示时钟周期为5ns</li></ol><h4 id=3verilog代码规范>3.verilog代码规范<a hidden class=anchor aria-hidden=true href=#3verilog代码规范>#</a></h4><h5 id=1变量命名>1.变量命名<a hidden class=anchor aria-hidden=true href=#1变量命名>#</a></h5><h6 id=1信号名称采用全小写单词之间下划线分隔snake_case>1.信号名称采用全小写，单词之间下划线分隔，<code>snake_case</code><a hidden class=anchor aria-hidden=true href=#1信号名称采用全小写单词之间下划线分隔snake_case>#</a></h6><h6 id=2信号低电平有效时用_n后缀表示rst_n>2.信号低电平有效时用_n后缀表示，<code>rst_n</code><a hidden class=anchor aria-hidden=true href=#2信号低电平有效时用_n后缀表示rst_n>#</a></h6><h5 id=2组合逻辑>2.组合逻辑<a hidden class=anchor aria-hidden=true href=#2组合逻辑>#</a></h5><h6 id=1采用always描述组合逻辑时列表内用而不是列举敏感信号>1.采用<code>always</code>描述组合逻辑时，列表内用*而不是列举敏感信号<a hidden class=anchor aria-hidden=true href=#1采用always描述组合逻辑时列表内用而不是列举敏感信号>#</a></h6><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#6272a4>//right
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>always</span>@(<span style=color:#ff79c6>*</span>) <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>if</span>(rst_n)<span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>        c <span style=color:#ff79c6>=</span> a <span style=color:#ff79c6>+</span> b;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>else</span>
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>            c <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>1</span><span style=color:#bd93f9>&#39;b0</span>;
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>//worse
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>always</span>@(a,b) <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>if</span>(rst_n)<span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>        c <span style=color:#ff79c6>=</span> a <span style=color:#ff79c6>+</span> b;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>else</span>
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>            c <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>1</span><span style=color:#bd93f9>&#39;b0</span>;
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>end</span>
</span></span></code></pre></td></tr></table></div></div><h6 id=2always块中如果使用if则每个分支下都需要进行赋值>2.always块中如果使用if,则每个分支下都需要进行赋值<a hidden class=anchor aria-hidden=true href=#2always块中如果使用if则每个分支下都需要进行赋值>#</a></h6><h6 id=3组合逻辑中只使用阻塞赋值>3.组合逻辑中只使用阻塞赋值=<a hidden class=anchor aria-hidden=true href=#3组合逻辑中只使用阻塞赋值>#</a></h6><h6 id=4可以使用assign表示组合逻辑>4.可以使用assign表示组合逻辑<a hidden class=anchor aria-hidden=true href=#4可以使用assign表示组合逻辑>#</a></h6><h6 id=5对于复杂表达式涉及到符号性确定最外层表达式符号向内传播或者直接将有符号运算抽离出来设置变量更加建议>5.对于复杂表达式涉及到符号性，确定最外层表达式符号+向内传播，或者直接将有符号运算抽离出来设置变量（更加建议）<a hidden class=anchor aria-hidden=true href=#5对于复杂表达式涉及到符号性确定最外层表达式符号向内传播或者直接将有符号运算抽离出来设置变量更加建议>#</a></h6><h5 id=3时序逻辑>3.时序逻辑<a hidden class=anchor aria-hidden=true href=#3时序逻辑>#</a></h5><h6 id=1一般情况下使用上升沿posedge进行触发>1.一般情况下使用上升沿<code>posedge</code>进行触发<a hidden class=anchor aria-hidden=true href=#1一般情况下使用上升沿posedge进行触发>#</a></h6><h6 id=2只使用非阻塞赋值->2.只使用非阻塞赋值 &lt;=<a hidden class=anchor aria-hidden=true href=#2只使用非阻塞赋值->#</a></h6><h6 id=3使用localparam命名状态机各个状态>3.使用localparam命名状态机各个状态<a hidden class=anchor aria-hidden=true href=#3使用localparam命名状态机各个状态>#</a></h6><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#6272a4>// GOOD
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>localparam</span> sInit <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>2</span><span style=color:#bd93f9>&#39;d0</span>;
</span></span><span style=display:flex><span><span style=color:#ff79c6>localparam</span> sIdle <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>2</span><span style=color:#bd93f9>&#39;d1</span>;
</span></span><span style=display:flex><span><span style=color:#ff79c6>localparam</span> sWork <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>2</span><span style=color:#bd93f9>&#39;d2</span>;
</span></span><span style=display:flex><span><span style=color:#ff79c6>localparam</span> sDone <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>2</span><span style=color:#bd93f9>&#39;d3</span>;
</span></span><span style=display:flex><span><span style=color:#8be9fd>reg</span> [<span style=color:#bd93f9>1</span><span style=color:#ff79c6>:</span><span style=color:#bd93f9>0</span>] state;
</span></span></code></pre></td></tr></table></div></div><h6 id=4不要在敏感列表以外的地方使用时钟信号>4.不要在敏感列表以外的地方使用时钟信号<a hidden class=anchor aria-hidden=true href=#4不要在敏感列表以外的地方使用时钟信号>#</a></h6><h5 id=5不要在多个always块内为同一变量赋值>5.不要在多个always块内为同一变量赋值<a hidden class=anchor aria-hidden=true href=#5不要在多个always块内为同一变量赋值>#</a></h5><h4 id=4数制与位拼接>4.数制与位拼接<a hidden class=anchor aria-hidden=true href=#4数制与位拼接>#</a></h4><p>​ 在P1_Q3_ext一题中，我遇到了位拼接相关的问题，总结如下：</p><ol><li>在verilog语法中，当常量不说明位数时默认为32位，进制为十进制，故在位拼接中应尤其注意指明常量的位数</li><li>截取某一信号的某几位<code>in[n:m]</code> 表示,如果表示全部保留这个信号，直接用变量名表达<code>in</code></li><li>表示重复的位数，16{imm[15]}外也应有大括号，表达为<code>{16{imm[15]}}</code></li></ol><h4 id=5关于assign与always组合逻辑的转写>5.关于assign与always@(*)——组合逻辑的转写<a hidden class=anchor aria-hidden=true href=#5关于assign与always组合逻辑的转写>#</a></h4><p>​ 在P1课下提交的六指令ALU构造中，遇到了有关符号数处理的相关问题，在初始状态下的<code>assign+三目运算符+子表达式</code>的情况下很容易就将子表达式的符号性自顶向下传播没了<code>QWQ</code>导致运算结果错误，我的初版代码中，将表达式状态拆分为<code>assign+三目运算符+变量</code>的形式，即将运算提前存储在wire变量中,三目运算符实际上是对值进行选择，这样也就无所谓符号问题。</p><p>​ 在复习过程中，我突然想到这种复杂的由多个三目运算符构成的表达式完全可以由分支结构代替，在编写的过程中我发现：</p><ol><li>在always块中进行赋值的只能为reg类型的变量，故需要设置新的变量来存储值，或者改变输出端口的数据类型(这两种方法都可以AC)</li><li>assign不能在always块或initial块中使用</li></ol><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#6272a4>//将输出端口改为reg类型，直接在always块中进行赋值
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>module</span> alu (
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>input</span> [<span style=color:#bd93f9>31</span><span style=color:#ff79c6>:</span><span style=color:#bd93f9>0</span>] A,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>input</span> [<span style=color:#bd93f9>31</span><span style=color:#ff79c6>:</span><span style=color:#bd93f9>0</span>] B,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>input</span> [<span style=color:#bd93f9>2</span><span style=color:#ff79c6>:</span><span style=color:#bd93f9>0</span>] ALUOp,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>output</span> <span style=color:#8be9fd>reg</span> [<span style=color:#bd93f9>31</span><span style=color:#ff79c6>:</span><span style=color:#bd93f9>0</span>] C
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span><span style=color:#ff79c6>always</span> @(<span style=color:#ff79c6>*</span>) <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>if</span>(ALUOp <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>3</span><span style=color:#bd93f9>&#39;b000</span>)
</span></span><span style=display:flex><span>     C <span style=color:#ff79c6>=</span> A <span style=color:#ff79c6>+</span> B;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>else</span> <span style=color:#ff79c6>if</span>(ALUOp <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>3</span><span style=color:#bd93f9>&#39;b001</span>)
</span></span><span style=display:flex><span>     C <span style=color:#ff79c6>=</span> A <span style=color:#ff79c6>-</span> B;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>else</span> <span style=color:#ff79c6>if</span>(ALUOp <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>3</span><span style=color:#bd93f9>&#39;b010</span>)
</span></span><span style=display:flex><span>     C <span style=color:#ff79c6>=</span> A <span style=color:#ff79c6>&amp;</span> B;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>else</span> <span style=color:#ff79c6>if</span>(ALUOp <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>3</span><span style=color:#bd93f9>&#39;b011</span>)
</span></span><span style=display:flex><span>     C <span style=color:#ff79c6>=</span> A <span style=color:#ff79c6>|</span> B;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>else</span> <span style=color:#ff79c6>if</span>(ALUOp <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>3</span><span style=color:#bd93f9>&#39;b100</span>)
</span></span><span style=display:flex><span>     C <span style=color:#ff79c6>=</span> A <span style=color:#ff79c6>&gt;&gt;</span> B;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>else</span>
</span></span><span style=display:flex><span>     C <span style=color:#ff79c6>=</span> $signed(A)<span style=color:#ff79c6>&gt;&gt;&gt;</span>B; 
</span></span><span style=display:flex><span><span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>endmodule</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>//设置中间变量寄存器，最后 assign C = tmp;
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>module</span> alu (
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>input</span> [<span style=color:#bd93f9>31</span><span style=color:#ff79c6>:</span><span style=color:#bd93f9>0</span>] A,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>input</span> [<span style=color:#bd93f9>31</span><span style=color:#ff79c6>:</span><span style=color:#bd93f9>0</span>] B,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>input</span> [<span style=color:#bd93f9>2</span><span style=color:#ff79c6>:</span><span style=color:#bd93f9>0</span>] ALUOp,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>output</span> [<span style=color:#bd93f9>31</span><span style=color:#ff79c6>:</span><span style=color:#bd93f9>0</span>] C
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span><span style=color:#8be9fd>reg</span> [<span style=color:#bd93f9>31</span><span style=color:#ff79c6>:</span><span style=color:#bd93f9>0</span>] tmp;
</span></span><span style=display:flex><span><span style=color:#ff79c6>always</span> @(<span style=color:#ff79c6>*</span>) <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>if</span>(ALUOp <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>3</span><span style=color:#bd93f9>&#39;b000</span>)
</span></span><span style=display:flex><span>     tmp <span style=color:#ff79c6>=</span> A <span style=color:#ff79c6>+</span> B;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>else</span> <span style=color:#ff79c6>if</span>(ALUOp <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>3</span><span style=color:#bd93f9>&#39;b001</span>)
</span></span><span style=display:flex><span>     tmp <span style=color:#ff79c6>=</span> A <span style=color:#ff79c6>-</span> B;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>else</span> <span style=color:#ff79c6>if</span>(ALUOp <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>3</span><span style=color:#bd93f9>&#39;b010</span>)
</span></span><span style=display:flex><span>     tmp <span style=color:#ff79c6>=</span> A <span style=color:#ff79c6>&amp;</span> B;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>else</span> <span style=color:#ff79c6>if</span>(ALUOp <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>3</span><span style=color:#bd93f9>&#39;b011</span>)
</span></span><span style=display:flex><span>     tmp <span style=color:#ff79c6>=</span> A <span style=color:#ff79c6>|</span> B;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>else</span> <span style=color:#ff79c6>if</span>(ALUOp <span style=color:#ff79c6>==</span> <span style=color:#bd93f9>3</span><span style=color:#bd93f9>&#39;b100</span>)
</span></span><span style=display:flex><span>     tmp <span style=color:#ff79c6>=</span> A <span style=color:#ff79c6>&gt;&gt;</span> B;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>else</span>
</span></span><span style=display:flex><span>     tmp <span style=color:#ff79c6>=</span> $signed(A)<span style=color:#ff79c6>&gt;&gt;&gt;</span>B; 
</span></span><span style=display:flex><span><span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>assign</span> C <span style=color:#ff79c6>=</span> tmp;
</span></span><span style=display:flex><span><span style=color:#ff79c6>endmodule</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=6组合逻辑语法和时序逻辑语法>6.组合逻辑语法和时序逻辑语法<a hidden class=anchor aria-hidden=true href=#6组合逻辑语法和时序逻辑语法>#</a></h4><p><strong>注意：verilog中无自增自减运算符</strong></p><h5 id=1initial>1.initial<a hidden class=anchor aria-hidden=true href=#1initial>#</a></h5><p>​ initial后紧跟的语句或顺序语句块在硬件仿真开始时就会进行，且只会运行一次，可以用于为寄存器赋初值，initial块是不可综合的！因此，考虑到综合性，我们一般使用reset信号进行赋初值操作。</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#8be9fd>reg</span> a;
</span></span><span style=display:flex><span><span style=color:#ff79c6>initial</span> <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>    a <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>1</span><span style=color:#bd93f9>&#39;b0</span>;
</span></span><span style=display:flex><span><span style=color:#ff79c6>end</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=2always>2.always<a hidden class=anchor aria-hidden=true href=#2always>#</a></h5><p>​ always块在时序逻辑和组合逻辑中都有应用，需要注意的是always块中不能使用assign语句。不能在多个always块中对一个变量进行赋值且always块中只能对reg型变量进行赋值。</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#6272a4>//组合逻辑  reg型数据与阻塞赋值配合
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>always</span>@(<span style=color:#ff79c6>*</span>)
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>        a <span style=color:#ff79c6>=</span> A <span style=color:#ff79c6>+</span> B;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span><span style=color:#6272a4>//时序逻辑 非阻塞赋值
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>always</span>@(<span style=color:#ff79c6>posedge</span> clk)
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>        a <span style=color:#ff79c6>&lt;=</span> A <span style=color:#ff79c6>+</span> B;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>end</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=3if>3.if<a hidden class=anchor aria-hidden=true href=#3if>#</a></h5><p>​ <code>if-else if -else</code>模块只能出现在顺序块中，顺序块(以begin开始，以end表示结束),所有的else语句都应写出。</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#6272a4>//组合逻辑
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>always</span>@(<span style=color:#ff79c6>*</span>)<span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>if</span>(a<span style=color:#ff79c6>&gt;</span>b)<span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>        out <span style=color:#ff79c6>=</span> a;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>else</span> <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>        out <span style=color:#ff79c6>=</span> b;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>end</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=5case>5.case<a hidden class=anchor aria-hidden=true href=#5case>#</a></h5><p>​ case语句只能出现在顺序块中，分支也只能是语句或顺序块，case语句一定要注意编写default,不要忘记<strong>endcase</strong>!</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#ff79c6>always</span>@(<span style=color:#ff79c6>posedge</span> clk)
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>case</span>(data)
</span></span><span style=display:flex><span>            <span style=color:#bd93f9>0</span><span style=color:#ff79c6>:</span> out <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>4</span>;
</span></span><span style=display:flex><span>            <span style=color:#bd93f9>1</span><span style=color:#ff79c6>:</span> out <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>5</span>;
</span></span><span style=display:flex><span>            <span style=color:#bd93f9>2</span><span style=color:#ff79c6>:</span> out <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>2</span>;
</span></span><span style=display:flex><span>            <span style=color:#bd93f9>3</span><span style=color:#ff79c6>:</span> out <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>1</span>
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>default</span> <span style=color:#ff79c6>:</span> out <span style=color:#ff79c6>&lt;=</span> <span style=color:#bd93f9>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>endcase</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>end</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=6for>6.for<a hidden class=anchor aria-hidden=true href=#6for>#</a></h5><p>​ 循环变量可以为integer或reg类型，使用reg类型作为循环变量时要合理设置位宽。</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#ff79c6>module</span> test(
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>input</span> [<span style=color:#bd93f9>1</span><span style=color:#ff79c6>:</span><span style=color:#bd93f9>0</span>] x,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>output</span> <span style=color:#8be9fd>reg</span> [<span style=color:#bd93f9>3</span><span style=color:#ff79c6>:</span><span style=color:#bd93f9>0</span>] ans <span style=color:#6272a4>//将输出变量定义为reg类型可以直接在always中进行赋值
</span></span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>integer</span> i;<span style=color:#6272a4>//循环变量定义在always语句块之外
</span></span></span><span style=display:flex><span>    <span style=color:#ff79c6>always</span> @(<span style=color:#ff79c6>*</span>) <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>        ans <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>for</span>(i<span style=color:#ff79c6>=</span><span style=color:#bd93f9>0</span>;i<span style=color:#ff79c6>&lt;</span><span style=color:#bd93f9>3</span>;i<span style=color:#ff79c6>=</span>i<span style=color:#ff79c6>+</span><span style=color:#bd93f9>1</span>)
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>                ans <span style=color:#ff79c6>=</span> ans <span style=color:#ff79c6>+</span> x;
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>endmodule</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#6272a4>//七人投票表决器
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>module</span> vote7 (
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>input</span> [<span style=color:#bd93f9>6</span><span style=color:#ff79c6>:</span><span style=color:#bd93f9>0</span>] vote,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>output</span> <span style=color:#8be9fd>reg</span> pass
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span>    <span style=color:#8be9fd>reg</span> [<span style=color:#bd93f9>2</span><span style=color:#ff79c6>:</span><span style=color:#bd93f9>0</span>] sum;
</span></span><span style=display:flex><span>    integet i;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>always</span>@(vote)<span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>        sum <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>3</span><span style=color:#bd93f9>&#39;b000</span>;
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>for</span>(i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; i <span style=color:#ff79c6>&lt;</span> <span style=color:#bd93f9>7</span> ; i <span style=color:#ff79c6>=</span> i <span style=color:#ff79c6>+</span> <span style=color:#bd93f9>1</span>)
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>                <span style=color:#ff79c6>if</span>(vote[i])
</span></span><span style=display:flex><span>                    sum <span style=color:#ff79c6>=</span> sum <span style=color:#ff79c6>+</span> <span style=color:#bd93f9>1</span>;
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>if</span>(sum <span style=color:#ff79c6>&gt;=</span> <span style=color:#bd93f9>3</span><span style=color:#bd93f9>&#39;d4</span>) pass <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>1</span><span style=color:#bd93f9>&#39;b1</span>;
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>else</span> pass <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>1</span><span style=color:#bd93f9>&#39;b0</span>;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>endmodule</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=7while>7.while<a hidden class=anchor aria-hidden=true href=#7while>#</a></h5><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#6272a4>//统计八位二进制数中1的位数
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>module</span> counts1_while(
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>input</span> clk,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>input</span> [<span style=color:#bd93f9>7</span><span style=color:#ff79c6>:</span><span style=color:#bd93f9>0</span>] rega,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>output</span> <span style=color:#8be9fd>reg</span> [<span style=color:#bd93f9>3</span><span style=color:#ff79c6>:</span><span style=color:#bd93f9>0</span>] count
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>always</span>@(<span style=color:#ff79c6>posedge</span> clk)<span style=color:#ff79c6>begin</span><span style=color:#ff79c6>:</span>count1
</span></span><span style=display:flex><span>        <span style=color:#8be9fd>reg</span>[<span style=color:#bd93f9>7</span><span style=color:#ff79c6>:</span><span style=color:#bd93f9>0</span>] tempreg;
</span></span><span style=display:flex><span>        count <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>;
</span></span><span style=display:flex><span>        tempreg <span style=color:#ff79c6>=</span> rega;
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>while</span>(tempreg)<span style=color:#ff79c6>begin</span>
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>if</span>(tempreg[<span style=color:#bd93f9>0</span>])
</span></span><span style=display:flex><span>                count <span style=color:#ff79c6>=</span> count <span style=color:#ff79c6>+</span> <span style=color:#bd93f9>1</span>;
</span></span><span style=display:flex><span>            tempreg <span style=color:#ff79c6>=</span> tempreg <span style=color:#ff79c6>&gt;&gt;</span> <span style=color:#bd93f9>1</span>&#39;
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>end</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>endmodule</span>
</span></span></code></pre></td></tr></table></div></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://coder0xe.github.io/tags/oct/>Oct</a></li></ul><nav class=paginav><a class=prev href=https://coder0xe.github.io/posts/verilog%E7%BC%96%E5%86%99%E7%94%B5%E8%B7%AF%E4%B8%AD%E7%9A%84%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E4%B8%8E%E7%BB%84%E5%90%88%E9%80%BB%E8%BE%91%E5%88%86%E7%A6%BB/><span class=title>« Prev</span><br><span>verilog编写电路中的时序逻辑与组合逻辑分离</span>
</a><a class=next href=https://coder0xe.github.io/posts/blockchecker/><span class=title>Next »</span><br><span>P1_L1_BlockChecker</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share verilog on x" href="https://x.com/intent/tweet/?text=verilog&amp;url=https%3a%2f%2fcoder0xe.github.io%2fposts%2fverilog%2f&amp;hashtags=Oct"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share verilog on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fcoder0xe.github.io%2fposts%2fverilog%2f&amp;title=verilog&amp;summary=verilog&amp;source=https%3a%2f%2fcoder0xe.github.io%2fposts%2fverilog%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share verilog on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fcoder0xe.github.io%2fposts%2fverilog%2f&title=verilog"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share verilog on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fcoder0xe.github.io%2fposts%2fverilog%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share verilog on whatsapp" href="https://api.whatsapp.com/send?text=verilog%20-%20https%3a%2f%2fcoder0xe.github.io%2fposts%2fverilog%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share verilog on telegram" href="https://telegram.me/share/url?text=verilog&amp;url=https%3a%2f%2fcoder0xe.github.io%2fposts%2fverilog%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share verilog on ycombinator" href="https://news.ycombinator.com/submitlink?t=verilog&u=https%3a%2f%2fcoder0xe.github.io%2fposts%2fverilog%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://coder0xe.github.io/>coder0xe's blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>