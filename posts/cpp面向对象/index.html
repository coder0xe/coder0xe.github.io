<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>CPP面向对象 | coder0xe's blog</title><meta name=keywords content="c++面向对象"><meta name=description content="c++面向对象"><meta name=author content="sudo"><link rel=canonical href=https://coder0xe.github.io/posts/cpp%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/><link crossorigin=anonymous href=/assets/css/stylesheet.e4a36188e2c44563c1cc5ed1a2d0b8451a4f68c685114d738b97609f82dae050.css integrity="sha256-5KNhiOLERWPBzF7RotC4RRpPaMaFEU1zi5dgn4La4FA=" rel="preload stylesheet" as=style><link rel=icon href=https://coder0xe.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://coder0xe.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://coder0xe.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://coder0xe.github.io/apple-touch-icon.png><link rel=mask-icon href=https://coder0xe.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://coder0xe.github.io/posts/cpp%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://coder0xe.github.io/posts/cpp%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"><meta property="og:site_name" content="coder0xe's blog"><meta property="og:title" content="CPP面向对象"><meta property="og:description" content="c++面向对象"><meta property="og:locale" content="zh-CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-07-15T12:17:07+08:00"><meta property="article:modified_time" content="2024-07-15T12:17:07+08:00"><meta property="article:tag" content="July"><meta name=twitter:card content="summary"><meta name=twitter:title content="CPP面向对象"><meta name=twitter:description content="c++面向对象"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://coder0xe.github.io/posts/"},{"@type":"ListItem","position":2,"name":"CPP面向对象","item":"https://coder0xe.github.io/posts/cpp%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"CPP面向对象","name":"CPP面向对象","description":"c++面向对象","keywords":["c++面向对象"],"articleBody":"CPP面向对象 1. 内存分区模型 代码区：二进制代码 全局区：全局变量和静态变量以及常量 栈区：编译器自动分配释放，存放局部变量 堆区：程序员分配和释放 1.1 程序运行前 ​\t程序编译后，生成了exe可执行程序，未执行该程序前分为两个区域\n代码区\n存放CPU执行的机器指令 代码区是共享的 代码区是只读的 全局区\n全局变量、静态变量(static) 常量区：字符串常量和const修饰的全局变量 该区域的数据在程序结束后由操作系统回收 1.2 程序运行后 栈区：由编译器自动分配释放，存放函数的参数值和局部变量\n不要返回局部变量的地址\n1 2 3 4 int * func() { int a = 10; // 函数中的局部变量，存放在栈区，栈区的数据在函数执行完后自动释放 return \u0026a; } 局部变量：在函数中定义；全局变量：在函数外定义\n在函数中定义的局部变量存放在内存中的栈区，在函数运行结束后编译器自动释放\n回想MIPS函数调用规范中的分配栈\n堆区：由程序员分配释放\n在c++中由new关键字在堆区中申请内存\n1 int * p = new int(10); 该局部变量不会随函数结束被回收，即堆区的变量与栈区的变量有不同的生命周期\n1.3 new操作符 用new操作符在堆区开辟数据\n基本语法：new 数据类型 (初始值)|[元素个数]，返回该数据类型的指针\n1 2 3 4 int *p = new int(10); // 创建int型变量 int *arr = new int[10]; // 创建一个数组 [] delete p; delete[] arr; 用delete操作释放内存，释放数组加[]\n2. 引用 2.1 引用语法 引用：给变量起别名\n语法：数据类型 \u0026别名 = 原名\n1 int \u0026b = a; 引用必须要进行初始化，且初始化后不可修改\n1 2 3 int \u0026b;// 未初始化错误 int \u0026b = a; int \u0026b = c;//修改别名错误 对于c++中的引用理解可以参考java中的理解，即这两个名字都是指向同一片内存的指针，或者说是浅克隆\n2.2 引用做函数参数 函数参数：值传递/地址(指针)传递\n利用引用让形参修改实参，避免使用指针\n1 2 3 4 5 void swap(int \u0026a, int \u0026b) { int temp = a; a = b; b = temp; } 2.3 引用做函数返回值 不要返回局部变量的引用(函数运行结束，局部变量回收)\n1 2 3 4 int\u0026 test() { int a = 10; return a; } 函数的调用可以作为左值，给返回的引用赋值\n1 2 3 4 5 6 int\u0026 test() { static int a = 10; return a; } test() = 1000; 2.4 引用的本质 引用的本质在c++内部实现是一个指针常量(指针指向不变，指针指向的值可以修改)\n2.5 常量引用 用来修饰形参，防止误操作\n1 const int \u0026 b = a; 常量引用的值不可被修改\n1 2 3 void print(const int \u0026val) { cout \u003c\u003c val \u003c\u003c endl; } 3. 函数提高 3.1 函数默认参数 在C++中，函数的形参列表中的形参是可以有默认值的\n语法返回值类型 函数名 (参数 = 默认值){}\n例如\n1 2 3 4 5 6 7 8 9 10 int sum (int a = 10, int b = 20) { return a + b; } int main() { cout \u003c\u003c sum() \u003c\u003c endl; cout \u003c\u003c sum(5) \u003c\u003c endl; cout \u003c\u003c sum(5, 15) \u003c\u003c endl; return 0; } 不传参使用默认值，传参则使用传入的值\n注意：如果某个位置已经有了默认值，则从这个位置往后都必须要默认值\n函数声明和实现只能有一个有默认参数\n3.2 函数占位参数 在参数列表中只写数据类型\n返回值类型 函数名 (数据类型){}\n1 2 3 void test(int) { cout \u003c\u003c \"hello\"; } 现阶段没用\n3.3 函数重载 函数名可以相同，提高复用性(overloaded)\n同一个作用域下，函数名称相同，参数不同，根据传入的参数选择重载的函数\n例子\n1 2 3 4 5 6 7 int sum (int a = 10, int b = 20) { return a + b; } int sum (int a, int b, int c) { return a + b + c; } 函数的返回值不可以作为重载的条件\n注意：引用作为重载的条件\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 #include using namespace std; void func(int \u0026a) { cout \u003c\u003c \"func(int \u0026)\" \u003c\u003c endl; } void func(const int \u0026a) { cout \u003c\u003c \"func(const int \u0026)\" \u003c\u003c endl; } int main() { int a = 10; const int b = 20; func(a); // \"func(int \u0026)\" func(b); // \"func(const int \u0026)\" return 0; } 两个重载中的参数仅在const修饰上有区别 在两个函数都可以运行时，变量选择变量重载，常量选择常量重载 重载碰到默认参数\n1 2 3 4 5 6 7 8 9 10 11 12 13 void func(int a, int b = 10) { cout \u003c\u003c \"func(int a, int b = 10)\" \u003c\u003c endl; } void func(int a) { cout \u003c\u003c \"func(int a)\" \u003c\u003c endl; } int main() { func(10); return 0; } 出现二义性 4. 类和对象 面向对象三大特性：封装、继承、多态\n4.1 封装 将属性和行为作为一个整体表现生活中的事物\n将属性和行为加以权限控制\n可见性通过public/private/protected定义\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 #include using namespace std; class Circle { public : double radius; double compute_area() { return 3.14 * radius * radius; } private : /*code */ protected : /*code */ }; int main() { Circle obj; obj.radius = 5.0; cout \u003c\u003c \"Area is: \" \u003c\u003c obj.compute_area() \u003c\u003c endl; return 0; } 公共权限public：类内可以访问，类外可以访问\n保护权限protected：类内可以访问，类外不可以访问，子类可以访问父类中的protected\n私有属性private：类内可以访问，类外不可以访问\n默认权限为private\n4.2 对象的初始化和清理 4.2.1 构造函数和析构函数 构造函数：创建对象时为对象的成员属性赋值，被自动调用\n析构函数：对象销毁前系统自动调用，执行清理操作\n如果不自行实现，编译器提供空实现\n构造函数语法：类名(参数列表){}\n1 2 3 4 public : Circle(double r) { radius = r; } 析构函数语法：~类名(){}，不能有参数\n1 2 3 ~Circle() { cout \u003c\u003c \"Circle object is destroyed\" \u003c\u003c endl; } 4.2.2 构造函数的分类和使用 按照参数分类：无参构造/有参构造\n按照类型分类：普通构造/拷贝构造\n拷贝构造函数\n1 2 3 Circle(const Circle\u0026 circle) { radius = circle.radius; } 构造函数调用\n括号法\n1 Circle circle(5.0); 显示法\n1 Circle circle = Circle(5.0); 隐式转换法\n1 Circle circle = 5.0; 拷贝构造函数调用时机\n使用一个已经创建完毕的对象来初始化一个新对象 值传递的方式给函数参数传值 以值方式返回局部对象 构造函数调用规则：c++编译器至少给一个类添加三个函数\n默认构造函数(无参、函数体为空) 默认析构函数(无参、函数体为空) 默认拷贝构造函数，值拷贝 如果用户有定义，则不使用默认构造\n4.2.3 深拷贝和浅拷贝 浅拷贝：简单的赋值操作，例如编译器提供的拷贝构造函数\n1 2 3 4 5 Person (const Person \u0026p) { this-\u003eage = p.age; this-\u003eheight = p.height; cout \u003c\u003c \"拷贝\" \u003c\u003c endl; } 深拷贝：在堆区重新申请空间，自己写拷贝构造函数，在堆区申请空间\n1 2 3 4 5 Person (const Person \u0026p) { this-\u003eage = p.age; this-\u003eheight = new int(*p.height); cout \u003c\u003c \"拷贝\" \u003c\u003c endl; } 当我们的构造函数使用new关键字在堆区申请空间时，需要在析构函数中用delete关键字进行释放\n1 2 3 4 5 ~Person () { delete this-\u003eheight; this-\u003eheight = NULL; cout \u003c\u003c \"析构\" \u003c\u003c endl; } 4.2.4 初始化列表 一种构造函数的新写法，没大用\n语法：构造函数():属性1(值1)，属性2(值2)...{}\n1 Person(int a, int b, int c) : m_A(a), m_B(b), m_C(c) {} 4.2.5 类对象作为类成员 一个类中的成员可以为另一个类的对象\n先构造成员类的对象再构造自身\n先析构自身再析构成员类的对象\n4.2.6 静态成员 静态成员变量，不属于类的对象上\n类的所有对象共享同一份数据\n在编译阶段分配内存\n类内声明，类外初始化：这是必须的，需要使用解析符指定命名空间(该类)\n1 2 3 4 5 6 class Person{ public: static int num; }; int Person::num = 100; 访问方式：通过类/对象进行访问\n1 2 Person :: num person.num 静态成员函数\n类的所有对象共享同一个函数 静态成员函数只能访问静态成员变量 通过对象访问/通过类名访问 4.3 C++对象模型和this指针 4.3.1 成员变量和成员函数分开存储 空对象占用内存空间：1字节\nC++编译器会给每个空对象分配一个字节空间，用来区别空对象占用的位置\n1 2 3 4 5 6 class Person{ int m_A; // 非静态成员变量 属于类的对象上 static int m_B; // 静态成员变量 不属于类的对象上 void func() {} // 非静态成员函数 不属于类的对象上 即代码只有一份 static void func2() {} // 静态成员函数 不属于类的对象上 } 只有非静态成员变量属于类的对象 4.3.2 this指针 由于成员函数不属于类的对象，多个同类型的对象共用同一块代码\n这个代码块如何区分是哪个对象调用自己？\n通过this指针可以解决这个问题，指向调用对象，对象本身即*this\nthis指针的作用\n当形参和成员变量重名时，可以通过this指针进行区分 在类的非静态成员函数中返回对象本身，可以使用return *this 注意当想要返回自身时，要返回自身的引用，不要返回相应的数据类型\n1 2 3 Person \u0026 func() { return *this; } 我们知道函数中的变量位于栈区，运行结束后会被回收，如果返回相应的数据类型，会创建一个新的对象返回,原来的对象被销毁.\n4.3.3 空指针访问成员函数 C++中允许空指针调用成员函数，但要注意有没有用到this指针（因为此时this为空）\n例如\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 void showClass() { cout \u003c\u003c \"220617\" \u003c\u003c endl; } void showName() { cout \u003c\u003c name \u003c\u003c endl; } void showAge() { if (this == NULL) { return; } cout \u003c\u003c age \u003c\u003c endl; } Person p = NULL; p.showClass(); // success p.showName(); // failed p.showAge(); // success 4.3.4 const修饰成员函数 常函数\n成员函数后加const即为常函数，这个const实际是加在this指针上，不允许修改this指向的值\n常函数内不可以修改成员属性\n成员属性声明时加关键字mutable后在常函数中依然可以修改\n1 2 3 4 5 6 7 8 9 10 class Person { public : void showPerson() const { m_A = 100; // failed m_B = 200; // success } int m_A; mutable int m_B; // mutable关键字 }; 常对象\n声明对象前加const该对象即为常对象\n常对象只能调用常函数\n常对象中不允许修改普通变量，允许修改mutable修饰的变量\n1 2 3 const Person p; p.m_A = 100; // failed p.m_B = 100; // success 4.4 友元 生活中你的家有客厅(public)，你的卧室(private)\n客厅所有的客人都可以进去，但是你的卧室是私有的，也就是说只有你自己能进去\n但是，你可以允许你的朋友进入卧室\n在程序里，有些私有属性也想要类外特殊的一些函数或类进行访问，就需要用到友元的技术\n友元：让一个函数或类访问另一个类中的私有成员\n友元的关键字为friend\n友元的三种实现\n全局函数做友元：在类中加入friend 全局函数定义\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 class Building { friend void goodGay(Building \u0026building); // 声明全局函数做友元 friend public : string sittingRoom; private : string bedRoom; public : Building () { sittingRoom = \"客厅\"; bedRoom = \"卧室\"; } }; void goodGay(Building \u0026building) { cout \u003c\u003c \"好基友正在访问：\" \u003c\u003c building.sittingRoom \u003c\u003c endl; cout \u003c\u003c \"好基友正在访问：\" \u003c\u003c building.bedRoom \u003c\u003c endl; } 类做友元：在类中加入friend class 类名\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 class Building { friend class GoodGay; // 声明类做友元 public : string sittingRoom; private : string bedRoom; public : Building () { sittingRoom = \"客厅\"; bedRoom = \"卧室\"; } }; class GoodGay{ Building *building; public : GoodGay() { building = new Building; } void visit() { cout \u003c\u003c \"好基友正在访问：\" \u003c\u003c building-\u003esittingRoom \u003c\u003c endl; cout \u003c\u003c \"好基友正在访问：\" \u003c\u003c building-\u003ebedRoom \u003c\u003c endl; } }; 成员函数做友元\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 class Building; class GoodGay{ Building *building; public : GoodGay(); void visit(); }; class Building { friend void GoodGay::visit(); // friend声明该类下成员函数为友元 public : string sittingRoom; private : string bedRoom; public : Building () { sittingRoom = \"客厅\"; bedRoom = \"卧室\"; } }; GoodGay::GoodGay() { // 方法在类外实现，需要指明作用域 building = new Building; } void GoodGay::visit() { cout \u003c\u003c \"好基友正在访问：\" \u003c\u003c building-\u003esittingRoom \u003c\u003c endl; cout \u003c\u003c \"好基友正在访问：\" \u003c\u003c building-\u003ebedRoom \u003c\u003c endl; } 4.5 运算符重载(overloaded) 运算符重载：对已有的运算符进行重新定义，赋予其另一种功能，适应不同的数据类型\n类似于java中override\n4.5.1 加号运算符重载 operator+ 实现两个自定义数据类型相加的运算\n1 person1 + person2 ? 编译器给了一个通用名称operator+\n1 2 Person p3 = p1.operator+(p2); Person p3 = p1 + p2; 通过成员函数重载+号\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 class Person { public : int a; int b; // 1.成员函数重载 Person operator+(Person \u0026p) { Person temp; temp.a = this-\u003ea + p.a; temp.b = this-\u003eb + p.b; return temp; } }; 通过全局函数重载+号\n1 2 3 4 5 6 Person operator+(Person \u0026p1, Person \u0026p2) { Person temp; temp.a = p1.a + p2.a; temp.b = p1.b + p2.b; return temp; } 运算符重载也可以进行函数重载\n对于内置的数据类型的表达式的运算符不可以进行重载\n4.5.2 左移运算符重载operator\u003c\u003c cout « person « endl; 输出自定义数据类型\n全局函数重载左移运算符\n1 2 3 4 ostream \u0026 operator\u003c\u003c(ostream \u0026cout, Person \u0026p) { cout \u003c\u003c \"a = \" \u003c\u003c p.a \u003c\u003c \" b = \" \u003c\u003c p.b; return cout; } ostream标注输出流\n链式编程：返回自身\n4.5.3 递增运算符重载operator++ 前置递增，成员函数重载，返回引用，保证操作的是同一个值\n1 2 3 4 MyInteger\u0026 operator++() { num++; return *this; } 后置递增，利用占位参数int进行函数重载，区分前置和后置，返回值\n1 2 3 4 5 MyInteger operator++(int) { MyInteger temp = *this; num++; return temp; } 前置递增返回引用，后置递增返回值\n4.5.4 赋值运算符重载operator= c++默认给类添加operator=，对值进行拷贝，这个拷贝是浅拷贝，注意指针问题\n将默认的浅拷贝重载为深拷贝\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 class Person{ public : int * age; Person(int age){ this-\u003eage = new int(age); } ~Person(){ delete this-\u003eage; this-\u003eage = NULL; } Person \u0026 operator=(Person \u0026p){ if(this-\u003eage != NULL){ delete this-\u003eage; this-\u003eage = NULL; } this-\u003eage = new int(*p.age); return *this; } }; 4.5.5 关系运算符重载 == \u003e \u003e= \u003c \u003c= != 等等\n成员函数重载\n1 2 3 4 5 6 bool operator==(Person \u0026p) { if (this-\u003ename == p.name \u0026\u0026 this-\u003eage == p.age) { return true; } return false; } 4.5.6 函数调用运算符重载operator() 函数调用运算符()可以进行重载\n重载后使用的方式非常像函数的调用，又称为仿函数\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 class MyPrint { public : void operator()(string str) { cout \u003c\u003c str \u003c\u003c endl; } void operator()(string str, int num) { cout \u003c\u003c str \u003c\u003c \" \" \u003c\u003c num \u003c\u003c endl; } }; void test01() { MyPrint myPrint; myPrint(\"Hello World\"); myPrint(\"Hello World\", 100); } 仿函数没有固定的写法，非常灵活，可以通过函数的重载定义不同的函数\n匿名函数对象：当前行执行完后直接释放，避免创建对象\n1 2 3 void test02() { MyPrint()(\"hello world\"); } 4.6 继承 4.6.1 继承的基本语法 减少重复的代码\n语法：class 子类 : 继承方式 父类\n1 2 3 class Java : public Basepage { /*code*/ } 子类中包含从父类中继承的内容和自己增加的成员\n4.6.2 继承方式 公共继承：子类继承属性不改变 保护继承：子类继承父类中public和protected均为protected，private不变 私有继承：子类继承父类中全部属性转换为private ​\t可以用一张图来概括：不同的继承方式会改变子类中的成员属性\n4.6.3 继承中的对象模型 子类中包含父类中继承的属性和自身新增的属性 4.6.4 继承中的构造和析构顺序 子类继承父类后，当创建子类对象，也会调用父类的构造函数 构造：先构造父类后构造子类 析构：先析构子类后析构父类 4.6.5 继承中同名成员处理方式 例如同名成员属性\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 class Base1 { public : int a; Base1() { a = 10; } }; class Son : public Base1 { public : int a; Son() { a = 20; } }; 如果通过子类对象，访问父类中同名成员，需要增加作用域\n1 son.Base::a; 如果通过子类对象，访问子类中同名成员，直接访问即可\n同名成员函数同理\n4.6.6 继承中同名静态成员处理 访问子类中同名成员，直接访问即可\n访问父类同名成员，需要增加作用域\n静态：通过对象/类进行访问\n4.6.7 多继承语法 不同于java，C++中允许多继承\n语法：class 子类 ： 继承方式 父类1 ，继承方式 父类2 ... 加作用域区分同名变量 4.6.8 菱形继承问题 两个类继承同一个父类 又有某个类继承两个子类 问题描述：动物类中有一个属性age，羊和驼继承动物类，羊驼继承羊和驼后就会有两个age属性\n1 2 3 4 5 6 7 8 9 10 11 class Animal { public: int m_age; }; class Sheep : public Animal {}; class Tuo : public Animal {}; class SheepTuo : public Sheep, public Tuo {}; 利用虚继承解决菱形继承问题：加virtual关键字，此时Animal称为虚基类\n1 2 class Sheep : virtual public Animal {}; class Tuo : virtual public Animal {}; 虚继承中继承了虚基类指针，两个继承的子类指向同一个虚基类表\n4.7 多态 4.7.1 基本概念 静态多态：函数重载和运算符重载\n地址早绑定：编译阶段确定函数地址 动态多态：派生类和虚函数实现运行时多态\n地址晚绑定：运行阶段确定函数地址\n有继承关系\n子类要重写(override)父类中的虚函数\n1 2 3 4 5 6 7 8 9 10 11 12 13 class Animal { public: virtual void speak() { cout \u003c\u003c \"动物在说话\" \u003c\u003c endl; } }; class Cat : public Animal { public: void speak() { cout \u003c\u003c \"小猫在说话\" \u003c\u003c endl; } }; 使用：父类的引用或指针指向子类\n当在有子类的父类中声明虚函数时，父类对象的存储空间中会增加一个vfptr：虚函数表指针\n该指针指向一个虚函数表 虚函数表内部记录虚函数地址 当子类重写父类的虚函数，子类中的虚函数表内部会替换为子类的虚函数地址 当父类的指针或引用指向之类对象时，发生运行时多态\n4.7.2 纯虚函数和抽象类 在多态中，通常父类中虚函数的实现是毫无意义的，主要都是调用子类重写的内容 因此可以将虚函数改为纯虚函数 纯虚函数语法 virtual 返回值类型 函数名 (参数列表) = 0； 当类中有了纯虚函数，这个类也称为抽象类 抽象类特点 无法实例化对象 抽象类的子类必须要重写父类中的纯虚函数 4.7.3 虚析构和纯虚析构 父类指针在析构时，不会调用子类中的析构函数，如果子类中有属性开辟到堆区，会造成内存泄漏\n将父类中的析构函数改为虚析构或纯虚析构，从而调用子类的析构函数\n1 2 3 virtual ~Animal() { /*code*/ } 与纯虚函数不同的是，纯虚析构同样需要代码实现\n1 2 3 4 5 virtual ~Animal() = 0; // 在类中声明纯虚析构 Animal::~Animal() { // 在类外进行纯虚析构定义 /*code*/ } 5. C++文件操作 对文件进行操作需要包含头文件 文件 文本文件：以ASCII码形式存储 二进制文件：以二进制形式存储 操作文件 ofstream写操作 ifstream读操作 fstream读写操作 5.1 文本文件 ​\t写文件步骤如下\n包含头文件\n1 #include 创建流对象\n1 ofstream ofs; // 输出流对象 打开文件\n1 ofs.open(\"文件路径\"，打开方式); 文件打开方式 解释 ios::in 为读文件而打开文件 ios::out 为写文件而打开文件 ios::ate 初始位置：文件尾 ios:app 追加方式写文件 ios::trunc 如果文件存在则先删除后创建 ios::binary 二进制方式 可以利用|操作符配合使用文件打开方式\n写数据\n1 ofs \u003c\u003c \"写入的数据\"; 关闭文件\n1 ofs.close(); ​\t读文件步骤\n创建流对象\n1 ifstream ifs; 打开文件\n读数据\n第一种\n1 2 3 4 char buffer[1024] = {0}; while (ifs \u003e\u003e buffer) { cout \u003c\u003c buffer \u003c\u003c endl; } 第二种\n1 2 3 4 char buffer2[1024] = {0}; while (ifs.getline(buffer2, 1024)) { cout \u003c\u003c buffer2 \u003c\u003c endl; } 第三种\n1 2 3 4 string buffer3; while (getline(ifs, buffer3)) { cout \u003c\u003c buffer3 \u003c\u003c endl; } 第四种\n1 2 3 4 char ch; while ((ch = ifs.get()) != EOF) { cout \u003c\u003c ch; } 5.2 二进制文件 二进制方式进行读写操作\n打开方式指定为ios::binary | ios::out[ios::in]\n写文件：ostream \u0026 write(const char *buffer, int len);\n1 ofs.write(buffer, sizeof(buffer)); 读文件：isteam \u0026 read(char * buffer, int len)\n","wordCount":"1985","inLanguage":"en","datePublished":"2024-07-15T12:17:07+08:00","dateModified":"2024-07-15T12:17:07+08:00","author":{"@type":"Person","name":"sudo"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://coder0xe.github.io/posts/cpp%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"},"publisher":{"@type":"Organization","name":"coder0xe's blog","logo":{"@type":"ImageObject","url":"https://coder0xe.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://coder0xe.github.io/ accesskey=h title="coder0xe's blog (Alt + H)">coder0xe's blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://coder0xe.github.io/ title=首页><span>首页</span></a></li><li><a href=https://coder0xe.github.io/categories/ title=分类><span>分类</span></a></li><li><a href=https://coder0xe.github.io/tags/ title=标签><span>标签</span></a></li><li><a href=https://coder0xe.github.io/archives/ title=归档><span>归档</span></a></li><li><a href=https://coder0xe.github.io/search/ title=搜索><span>搜索</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://coder0xe.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://coder0xe.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">CPP面向对象</h1><div class=post-description>c++面向对象</div><div class=post-meta><span title='2024-07-15 12:17:07 +0800 +0800'>July 15, 2024</span>&nbsp;·&nbsp;<span>10 min</span>&nbsp;·&nbsp;<span>sudo</span></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#cpp%e9%9d%a2%e5%90%91%e5%af%b9%e8%b1%a1 aria-label=CPP面向对象>CPP面向对象</a><ul><li><a href=#1-%e5%86%85%e5%ad%98%e5%88%86%e5%8c%ba%e6%a8%a1%e5%9e%8b aria-label="1. 内存分区模型">1. 内存分区模型</a><ul><li><a href=#11-%e7%a8%8b%e5%ba%8f%e8%bf%90%e8%a1%8c%e5%89%8d aria-label="1.1 程序运行前">1.1 程序运行前</a></li><li><a href=#12-%e7%a8%8b%e5%ba%8f%e8%bf%90%e8%a1%8c%e5%90%8e aria-label="1.2 程序运行后">1.2 程序运行后</a></li><li><a href=#13-new%e6%93%8d%e4%bd%9c%e7%ac%a6 aria-label="1.3 new操作符">1.3 new操作符</a></li></ul></li><li><a href=#2-%e5%bc%95%e7%94%a8 aria-label="2. 引用">2. 引用</a><ul><li><a href=#21-%e5%bc%95%e7%94%a8%e8%af%ad%e6%b3%95 aria-label="2.1 引用语法">2.1 引用语法</a></li><li><a href=#22-%e5%bc%95%e7%94%a8%e5%81%9a%e5%87%bd%e6%95%b0%e5%8f%82%e6%95%b0 aria-label="2.2 引用做函数参数">2.2 引用做函数参数</a></li><li><a href=#23-%e5%bc%95%e7%94%a8%e5%81%9a%e5%87%bd%e6%95%b0%e8%bf%94%e5%9b%9e%e5%80%bc aria-label="2.3 引用做函数返回值">2.3 引用做函数返回值</a></li><li><a href=#24-%e5%bc%95%e7%94%a8%e7%9a%84%e6%9c%ac%e8%b4%a8 aria-label="2.4 引用的本质">2.4 引用的本质</a></li><li><a href=#25-%e5%b8%b8%e9%87%8f%e5%bc%95%e7%94%a8 aria-label="2.5 常量引用">2.5 常量引用</a></li></ul></li><li><a href=#3-%e5%87%bd%e6%95%b0%e6%8f%90%e9%ab%98 aria-label="3. 函数提高">3. 函数提高</a><ul><li><a href=#31-%e5%87%bd%e6%95%b0%e9%bb%98%e8%ae%a4%e5%8f%82%e6%95%b0 aria-label="3.1 函数默认参数">3.1 函数默认参数</a></li><li><a href=#32-%e5%87%bd%e6%95%b0%e5%8d%a0%e4%bd%8d%e5%8f%82%e6%95%b0 aria-label="3.2 函数占位参数">3.2 函数占位参数</a></li><li><a href=#33-%e5%87%bd%e6%95%b0%e9%87%8d%e8%bd%bd aria-label="3.3 函数重载">3.3 函数重载</a></li></ul></li><li><a href=#4-%e7%b1%bb%e5%92%8c%e5%af%b9%e8%b1%a1 aria-label="4. 类和对象">4. 类和对象</a><ul><li><a href=#41-%e5%b0%81%e8%a3%85 aria-label="4.1 封装">4.1 封装</a></li><li><a href=#42-%e5%af%b9%e8%b1%a1%e7%9a%84%e5%88%9d%e5%a7%8b%e5%8c%96%e5%92%8c%e6%b8%85%e7%90%86 aria-label="4.2 对象的初始化和清理">4.2 对象的初始化和清理</a><ul><li><a href=#421-%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0%e5%92%8c%e6%9e%90%e6%9e%84%e5%87%bd%e6%95%b0 aria-label="4.2.1 构造函数和析构函数">4.2.1 构造函数和析构函数</a></li><li><a href=#422-%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0%e7%9a%84%e5%88%86%e7%b1%bb%e5%92%8c%e4%bd%bf%e7%94%a8 aria-label="4.2.2 构造函数的分类和使用">4.2.2 构造函数的分类和使用</a></li><li><a href=#423-%e6%b7%b1%e6%8b%b7%e8%b4%9d%e5%92%8c%e6%b5%85%e6%8b%b7%e8%b4%9d aria-label="4.2.3 深拷贝和浅拷贝">4.2.3 深拷贝和浅拷贝</a></li><li><a href=#424-%e5%88%9d%e5%a7%8b%e5%8c%96%e5%88%97%e8%a1%a8 aria-label="4.2.4 初始化列表">4.2.4 初始化列表</a></li><li><a href=#425-%e7%b1%bb%e5%af%b9%e8%b1%a1%e4%bd%9c%e4%b8%ba%e7%b1%bb%e6%88%90%e5%91%98 aria-label="4.2.5 类对象作为类成员">4.2.5 类对象作为类成员</a></li><li><a href=#426-%e9%9d%99%e6%80%81%e6%88%90%e5%91%98 aria-label="4.2.6 静态成员">4.2.6 静态成员</a></li></ul></li><li><a href=#43-c%e5%af%b9%e8%b1%a1%e6%a8%a1%e5%9e%8b%e5%92%8cthis%e6%8c%87%e9%92%88 aria-label="4.3 C++对象模型和this指针">4.3 C++对象模型和this指针</a><ul><li><a href=#431-%e6%88%90%e5%91%98%e5%8f%98%e9%87%8f%e5%92%8c%e6%88%90%e5%91%98%e5%87%bd%e6%95%b0%e5%88%86%e5%bc%80%e5%ad%98%e5%82%a8 aria-label="4.3.1 成员变量和成员函数分开存储">4.3.1 成员变量和成员函数分开存储</a></li><li><a href=#432-this%e6%8c%87%e9%92%88 aria-label="4.3.2 this指针">4.3.2 this指针</a></li><li><a href=#433-%e7%a9%ba%e6%8c%87%e9%92%88%e8%ae%bf%e9%97%ae%e6%88%90%e5%91%98%e5%87%bd%e6%95%b0 aria-label="4.3.3 空指针访问成员函数">4.3.3 空指针访问成员函数</a></li><li><a href=#434-const%e4%bf%ae%e9%a5%b0%e6%88%90%e5%91%98%e5%87%bd%e6%95%b0 aria-label="4.3.4 const修饰成员函数">4.3.4 const修饰成员函数</a></li></ul></li><li><a href=#44-%e5%8f%8b%e5%85%83 aria-label="4.4 友元">4.4 友元</a></li><li><a href=#45-%e8%bf%90%e7%ae%97%e7%ac%a6%e9%87%8d%e8%bd%bdoverloaded aria-label="4.5 运算符重载(overloaded)">4.5 运算符重载(overloaded)</a><ul><li><a href=#451-%e5%8a%a0%e5%8f%b7%e8%bf%90%e7%ae%97%e7%ac%a6%e9%87%8d%e8%bd%bd-operator aria-label="4.5.1 加号运算符重载 operator+">4.5.1 加号运算符重载 operator+</a></li><li><a href=#452-%e5%b7%a6%e7%a7%bb%e8%bf%90%e7%ae%97%e7%ac%a6%e9%87%8d%e8%bd%bdoperator aria-label="4.5.2 左移运算符重载operator<<">4.5.2 左移运算符重载operator&lt;&lt;</a></li><li><a href=#453-%e9%80%92%e5%a2%9e%e8%bf%90%e7%ae%97%e7%ac%a6%e9%87%8d%e8%bd%bdoperator aria-label="4.5.3 递增运算符重载operator++">4.5.3 递增运算符重载operator++</a></li><li><a href=#454-%e8%b5%8b%e5%80%bc%e8%bf%90%e7%ae%97%e7%ac%a6%e9%87%8d%e8%bd%bdoperator aria-label="4.5.4 赋值运算符重载operator=">4.5.4 赋值运算符重载operator=</a></li><li><a href=#455-%e5%85%b3%e7%b3%bb%e8%bf%90%e7%ae%97%e7%ac%a6%e9%87%8d%e8%bd%bd aria-label="4.5.5 关系运算符重载">4.5.5 关系运算符重载</a></li><li><a href=#456-%e5%87%bd%e6%95%b0%e8%b0%83%e7%94%a8%e8%bf%90%e7%ae%97%e7%ac%a6%e9%87%8d%e8%bd%bdoperator aria-label="4.5.6 函数调用运算符重载operator()">4.5.6 函数调用运算符重载operator()</a></li></ul></li><li><a href=#46-%e7%bb%a7%e6%89%bf aria-label="4.6 继承">4.6 继承</a><ul><li><a href=#461-%e7%bb%a7%e6%89%bf%e7%9a%84%e5%9f%ba%e6%9c%ac%e8%af%ad%e6%b3%95 aria-label="4.6.1 继承的基本语法">4.6.1 继承的基本语法</a></li><li><a href=#462-%e7%bb%a7%e6%89%bf%e6%96%b9%e5%bc%8f aria-label="4.6.2 继承方式">4.6.2 继承方式</a></li><li><a href=#463-%e7%bb%a7%e6%89%bf%e4%b8%ad%e7%9a%84%e5%af%b9%e8%b1%a1%e6%a8%a1%e5%9e%8b aria-label="4.6.3 继承中的对象模型">4.6.3 继承中的对象模型</a></li><li><a href=#464-%e7%bb%a7%e6%89%bf%e4%b8%ad%e7%9a%84%e6%9e%84%e9%80%a0%e5%92%8c%e6%9e%90%e6%9e%84%e9%a1%ba%e5%ba%8f aria-label="4.6.4 继承中的构造和析构顺序">4.6.4 继承中的构造和析构顺序</a></li><li><a href=#465-%e7%bb%a7%e6%89%bf%e4%b8%ad%e5%90%8c%e5%90%8d%e6%88%90%e5%91%98%e5%a4%84%e7%90%86%e6%96%b9%e5%bc%8f aria-label="4.6.5 继承中同名成员处理方式">4.6.5 继承中同名成员处理方式</a></li><li><a href=#466-%e7%bb%a7%e6%89%bf%e4%b8%ad%e5%90%8c%e5%90%8d%e9%9d%99%e6%80%81%e6%88%90%e5%91%98%e5%a4%84%e7%90%86 aria-label="4.6.6 继承中同名静态成员处理">4.6.6 继承中同名静态成员处理</a></li><li><a href=#467-%e5%a4%9a%e7%bb%a7%e6%89%bf%e8%af%ad%e6%b3%95 aria-label="4.6.7 多继承语法">4.6.7 多继承语法</a></li><li><a href=#468-%e8%8f%b1%e5%bd%a2%e7%bb%a7%e6%89%bf%e9%97%ae%e9%a2%98 aria-label="4.6.8 菱形继承问题">4.6.8 菱形继承问题</a></li></ul></li><li><a href=#47-%e5%a4%9a%e6%80%81 aria-label="4.7 多态">4.7 多态</a><ul><li><a href=#471-%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5 aria-label="4.7.1 基本概念">4.7.1 基本概念</a></li><li><a href=#472-%e7%ba%af%e8%99%9a%e5%87%bd%e6%95%b0%e5%92%8c%e6%8a%bd%e8%b1%a1%e7%b1%bb aria-label="4.7.2 纯虚函数和抽象类">4.7.2 纯虚函数和抽象类</a></li><li><a href=#473-%e8%99%9a%e6%9e%90%e6%9e%84%e5%92%8c%e7%ba%af%e8%99%9a%e6%9e%90%e6%9e%84 aria-label="4.7.3 虚析构和纯虚析构">4.7.3 虚析构和纯虚析构</a></li></ul></li></ul></li><li><a href=#5-c%e6%96%87%e4%bb%b6%e6%93%8d%e4%bd%9c aria-label="5. C++文件操作">5. C++文件操作</a><ul><li><a href=#51-%e6%96%87%e6%9c%ac%e6%96%87%e4%bb%b6 aria-label="5.1 文本文件">5.1 文本文件</a></li><li><a href=#52-%e4%ba%8c%e8%bf%9b%e5%88%b6%e6%96%87%e4%bb%b6 aria-label="5.2 二进制文件">5.2 二进制文件</a></li></ul></li></ul></li></ul></div></details></div><div class=post-content><h1 id=cpp面向对象>CPP面向对象<a hidden class=anchor aria-hidden=true href=#cpp面向对象>#</a></h1><h2 id=1-内存分区模型>1. 内存分区模型<a hidden class=anchor aria-hidden=true href=#1-内存分区模型>#</a></h2><ul><li>代码区：二进制代码</li><li>全局区：全局变量和静态变量以及常量</li><li>栈区：编译器自动分配释放，存放局部变量</li><li>堆区：程序员分配和释放</li></ul><h3 id=11-程序运行前>1.1 程序运行前<a hidden class=anchor aria-hidden=true href=#11-程序运行前>#</a></h3><p>​ 程序编译后，生成了exe可执行程序，<strong>未执行该程序前分为两个区域</strong></p><ul><li><p><strong>代码区</strong></p><ul><li>存放CPU执行的机器指令</li><li>代码区是共享的</li><li>代码区是只读的</li></ul></li><li><p><strong>全局区</strong></p><ul><li>全局变量、静态变量(<code>static</code>)</li><li>常量区：字符串常量和<code>const</code>修饰的全局变量</li><li><strong>该区域的数据在程序结束后由操作系统回收</strong></li></ul></li></ul><h3 id=12-程序运行后>1.2 程序运行后<a hidden class=anchor aria-hidden=true href=#12-程序运行后>#</a></h3><ul><li><p>栈区：由编译器自动分配释放，存放函数的参数值和局部变量</p><ul><li><p><strong>不要返回局部变量的地址</strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#ff79c6>*</span> <span style=color:#50fa7b>func</span>() {
</span></span><span style=display:flex><span>    <span style=color:#8be9fd>int</span> a <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>10</span>; <span style=color:#6272a4>// 函数中的局部变量，存放在栈区，栈区的数据在函数执行完后自动释放
</span></span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> <span style=color:#ff79c6>&amp;</span>a;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>局部变量：在函数中定义；全局变量：在函数外定义</strong></p></li><li><p><strong>在函数中定义的局部变量存放在内存中的栈区，在函数运行结束后编译器自动释放</strong></p></li><li><p>回想MIPS函数调用规范中的分配栈</p></li></ul></li><li><p>堆区：由程序员分配释放</p><ul><li><p>在c++中由<code>new</code>关键字在堆区中申请内存</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#ff79c6>*</span> p <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> <span style=color:#8be9fd>int</span>(<span style=color:#bd93f9>10</span>);
</span></span></code></pre></td></tr></table></div></div></li><li><p>该局部变量不会随函数结束被回收，<strong>即堆区的变量与栈区的变量有不同的生命周期</strong></p></li></ul></li></ul><h3 id=13-new操作符>1.3 new操作符<a hidden class=anchor aria-hidden=true href=#13-new操作符>#</a></h3><ul><li><p>用<code>new</code>操作符在堆区开辟数据</p></li><li><p>基本语法：<code>new 数据类型 (初始值)|[元素个数]</code>，返回该数据类型的指针</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#ff79c6>*</span>p <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> <span style=color:#8be9fd>int</span>(<span style=color:#bd93f9>10</span>); <span style=color:#6272a4>// 创建int型变量
</span></span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#ff79c6>*</span>arr <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> <span style=color:#8be9fd>int</span>[<span style=color:#bd93f9>10</span>]; <span style=color:#6272a4>// 创建一个数组 []
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>delete</span> p;
</span></span><span style=display:flex><span><span style=color:#ff79c6>delete</span>[] arr;
</span></span></code></pre></td></tr></table></div></div></li><li><p>用<code>delete</code>操作释放内存，<strong>释放数组加<code>[]</code></strong></p></li></ul><h2 id=2-引用>2. 引用<a hidden class=anchor aria-hidden=true href=#2-引用>#</a></h2><h3 id=21-引用语法>2.1 引用语法<a hidden class=anchor aria-hidden=true href=#21-引用语法>#</a></h3><ul><li><p>引用：给变量起别名</p></li><li><p>语法：<code>数据类型 &别名 = 原名</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#ff79c6>&amp;</span>b <span style=color:#ff79c6>=</span> a;
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>引用必须要进行初始化，且初始化后不可修改</strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#ff79c6>&amp;</span>b;<span style=color:#6272a4>// 未初始化错误
</span></span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#ff79c6>&amp;</span>b <span style=color:#ff79c6>=</span> a;
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#ff79c6>&amp;</span>b <span style=color:#ff79c6>=</span> c;<span style=color:#6272a4>//修改别名错误
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>对于c++中的引用理解可以参考java中的理解，即这两个名字都是指向同一片内存的指针，或者说是浅克隆</strong></p></li></ul><h3 id=22-引用做函数参数>2.2 引用做函数参数<a hidden class=anchor aria-hidden=true href=#22-引用做函数参数>#</a></h3><ul><li><p>函数参数：值传递/地址(指针)传递</p></li><li><p><strong>利用引用让形参修改实参，避免使用指针</strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#8be9fd>void</span> <span style=color:#50fa7b>swap</span>(<span style=color:#8be9fd>int</span> <span style=color:#ff79c6>&amp;</span>a, <span style=color:#8be9fd>int</span> <span style=color:#ff79c6>&amp;</span>b) {
</span></span><span style=display:flex><span>    <span style=color:#8be9fd>int</span> temp <span style=color:#ff79c6>=</span> a;
</span></span><span style=display:flex><span>    a <span style=color:#ff79c6>=</span> b;
</span></span><span style=display:flex><span>    b <span style=color:#ff79c6>=</span> temp;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div></li></ul><h3 id=23-引用做函数返回值>2.3 引用做函数返回值<a hidden class=anchor aria-hidden=true href=#23-引用做函数返回值>#</a></h3><ul><li><p>不要返回局部变量的引用(函数运行结束，局部变量回收)</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#8be9fd>int</span><span style=color:#ff79c6>&amp;</span> test() {
</span></span><span style=display:flex><span>    <span style=color:#8be9fd>int</span> a <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>10</span>;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> a;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div></li><li><p>函数的调用可以作为左值，给返回的引用赋值</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#8be9fd>int</span><span style=color:#ff79c6>&amp;</span> test() {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>static</span> <span style=color:#8be9fd>int</span> a <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>10</span>;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> a;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>test() <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>1000</span>;
</span></span></code></pre></td></tr></table></div></div></li></ul><h3 id=24-引用的本质>2.4 引用的本质<a hidden class=anchor aria-hidden=true href=#24-引用的本质>#</a></h3><blockquote><p>引用的本质在c++内部实现是一个指针常量(指针指向不变，指针指向的值可以修改)</p></blockquote><h3 id=25-常量引用>2.5 常量引用<a hidden class=anchor aria-hidden=true href=#25-常量引用>#</a></h3><ul><li><p>用来修饰形参，防止误操作</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>const</span> <span style=color:#8be9fd>int</span> <span style=color:#ff79c6>&amp;</span> b <span style=color:#ff79c6>=</span> a;
</span></span></code></pre></td></tr></table></div></div></li><li><p>常量引用的值不可被修改</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#8be9fd>void</span> <span style=color:#50fa7b>print</span>(<span style=color:#ff79c6>const</span> <span style=color:#8be9fd>int</span> <span style=color:#ff79c6>&amp;</span>val) {
</span></span><span style=display:flex><span>    cout <span style=color:#ff79c6>&lt;&lt;</span> val <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div></li></ul><h2 id=3-函数提高>3. 函数提高<a hidden class=anchor aria-hidden=true href=#3-函数提高>#</a></h2><h3 id=31-函数默认参数>3.1 函数默认参数<a hidden class=anchor aria-hidden=true href=#31-函数默认参数>#</a></h3><ul><li><p>在C++中，函数的形参列表中的形参是可以有默认值的</p></li><li><p>语法<code>返回值类型 函数名 (参数 = 默认值){}</code></p></li><li><p>例如</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#50fa7b>sum</span> (<span style=color:#8be9fd>int</span> a <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>10</span>, <span style=color:#8be9fd>int</span> b <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>20</span>) {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> a <span style=color:#ff79c6>+</span> b;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>() {
</span></span><span style=display:flex><span>    cout <span style=color:#ff79c6>&lt;&lt;</span> sum() <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    cout <span style=color:#ff79c6>&lt;&lt;</span> sum(<span style=color:#bd93f9>5</span>) <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    cout <span style=color:#ff79c6>&lt;&lt;</span> sum(<span style=color:#bd93f9>5</span>, <span style=color:#bd93f9>15</span>) <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>不传参使用默认值，传参则使用传入的值</strong></p></li><li><p><strong>注意：如果某个位置已经有了默认值，则从这个位置往后都必须要默认值</strong></p></li><li><p><strong>函数声明和实现只能有一个有默认参数</strong></p></li></ul><h3 id=32-函数占位参数>3.2 函数占位参数<a hidden class=anchor aria-hidden=true href=#32-函数占位参数>#</a></h3><ul><li><p>在参数列表中只写数据类型</p></li><li><p><code>返回值类型 函数名 (数据类型){}</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#8be9fd>void</span> <span style=color:#50fa7b>test</span>(<span style=color:#8be9fd>int</span>) {
</span></span><span style=display:flex><span>	cout <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34;hello&#34;</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div></li><li><p>现阶段没用</p></li></ul><h3 id=33-函数重载>3.3 函数重载<a hidden class=anchor aria-hidden=true href=#33-函数重载>#</a></h3><ul><li><p>函数名可以相同，提高复用性(<code>overloaded</code>)</p></li><li><p><strong>同一个作用域下，函数名称相同，参数不同，根据传入的参数选择重载的函数</strong></p></li><li><p>例子</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#50fa7b>sum</span> (<span style=color:#8be9fd>int</span> a <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>10</span>, <span style=color:#8be9fd>int</span> b <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>20</span>) {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> a <span style=color:#ff79c6>+</span> b;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#50fa7b>sum</span> (<span style=color:#8be9fd>int</span> a, <span style=color:#8be9fd>int</span> b, <span style=color:#8be9fd>int</span> c) {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> a <span style=color:#ff79c6>+</span> b <span style=color:#ff79c6>+</span> c;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>函数的返回值不可以作为重载的条件</strong></p></li><li><p><strong>注意：引用作为重载的条件</strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;iostream&gt;</span><span style=color:#ff79c6>
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>using</span> <span style=color:#ff79c6>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>void</span> <span style=color:#50fa7b>func</span>(<span style=color:#8be9fd>int</span> <span style=color:#ff79c6>&amp;</span>a) {
</span></span><span style=display:flex><span>    cout <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34;func(int &amp;)&#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>void</span> <span style=color:#50fa7b>func</span>(<span style=color:#ff79c6>const</span> <span style=color:#8be9fd>int</span> <span style=color:#ff79c6>&amp;</span>a) {
</span></span><span style=display:flex><span>    cout <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34;func(const int &amp;)&#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>() {
</span></span><span style=display:flex><span>    <span style=color:#8be9fd>int</span> a <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>10</span>;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>const</span> <span style=color:#8be9fd>int</span> b <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>20</span>;
</span></span><span style=display:flex><span>    func(a); <span style=color:#6272a4>// &#34;func(int &amp;)&#34;
</span></span></span><span style=display:flex><span>    func(b); <span style=color:#6272a4>// &#34;func(const int &amp;)&#34;
</span></span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><ul><li>两个重载中的参数仅在<code>const</code>修饰上有区别</li><li>在两个函数都可以运行时，变量选择变量重载，常量选择常量重载</li></ul></li><li><p><strong>重载碰到默认参数</strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#8be9fd>void</span> <span style=color:#50fa7b>func</span>(<span style=color:#8be9fd>int</span> a, <span style=color:#8be9fd>int</span> b <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>10</span>) {
</span></span><span style=display:flex><span>    cout <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34;func(int a, int b = 10)&#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>void</span> <span style=color:#50fa7b>func</span>(<span style=color:#8be9fd>int</span> a) {
</span></span><span style=display:flex><span>    cout <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34;func(int a)&#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>() {
</span></span><span style=display:flex><span>    func(<span style=color:#bd93f9>10</span>);
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><ul><li>出现二义性</li></ul></li></ul><h2 id=4-类和对象>4. 类和对象<a hidden class=anchor aria-hidden=true href=#4-类和对象>#</a></h2><blockquote><p>面向对象三大特性：封装、继承、多态</p></blockquote><h3 id=41-封装>4.1 封装<a hidden class=anchor aria-hidden=true href=#41-封装>#</a></h3><ul><li><p>将属性和行为作为一个整体表现生活中的事物</p></li><li><p><strong>将属性和行为加以权限控制</strong></p></li><li><p><strong>可见性通过public/private/protected定义</strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;iostream&gt;</span><span style=color:#ff79c6>
</span></span></span><span style=display:flex><span><span style=color:#ff79c6>using</span> <span style=color:#ff79c6>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>Circle</span> {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>public</span> <span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>        <span style=color:#8be9fd>double</span> radius;
</span></span><span style=display:flex><span>        <span style=color:#8be9fd>double</span> <span style=color:#50fa7b>compute_area</span>() {
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>3.14</span> <span style=color:#ff79c6>*</span> radius <span style=color:#ff79c6>*</span> radius;
</span></span><span style=display:flex><span>        }  
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>private</span> <span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>        <span style=color:#6272a4>/*code */</span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>protected</span> <span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>    	<span style=color:#6272a4>/*code */</span>
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> <span style=color:#50fa7b>main</span>() {
</span></span><span style=display:flex><span>    Circle obj;
</span></span><span style=display:flex><span>    obj.radius <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>5.0</span>;
</span></span><span style=display:flex><span>    cout <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34;Area is: &#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> obj.compute_area() <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div></li><li><p>公共权限<code>public</code>：类内可以访问，类外可以访问</p></li><li><p>保护权限<code>protected</code>：类内可以访问，类外不可以访问，<strong>子类可以访问父类中的protected</strong></p></li><li><p>私有属性<code>private</code>：类内可以访问，类外不可以访问</p></li><li><p><strong>默认权限为private</strong></p></li></ul><h3 id=42-对象的初始化和清理>4.2 对象的初始化和清理<a hidden class=anchor aria-hidden=true href=#42-对象的初始化和清理>#</a></h3><h4 id=421-构造函数和析构函数>4.2.1 构造函数和析构函数<a hidden class=anchor aria-hidden=true href=#421-构造函数和析构函数>#</a></h4><ul><li><p>构造函数：创建对象时为对象的成员属性赋值，被<strong>自动调用</strong></p></li><li><p>析构函数：对象销毁前系统<strong>自动调用</strong>，执行清理操作</p></li><li><p><strong>如果不自行实现，编译器提供空实现</strong></p></li><li><p><strong>构造函数语法</strong>：<code>类名(参数列表){}</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>    <span style=color:#ff79c6>public</span> <span style=color:#ff79c6>:</span>    
</span></span><span style=display:flex><span>        Circle(<span style=color:#8be9fd>double</span> r) {
</span></span><span style=display:flex><span>            radius <span style=color:#ff79c6>=</span> r;
</span></span><span style=display:flex><span>        }
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>析构函数语法</strong>：<code>~类名(){}</code>，<strong>不能有参数</strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>        <span style=color:#ff79c6>~</span>Circle() {
</span></span><span style=display:flex><span>            cout <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34;Circle object is destroyed&#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>        }
</span></span></code></pre></td></tr></table></div></div></li></ul><h4 id=422-构造函数的分类和使用>4.2.2 构造函数的分类和使用<a hidden class=anchor aria-hidden=true href=#422-构造函数的分类和使用>#</a></h4><ul><li><p>按照参数分类：无参构造/有参构造</p></li><li><p>按照类型分类：普通构造/拷贝构造</p></li><li><p><strong>拷贝构造函数</strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>        Circle(<span style=color:#ff79c6>const</span> Circle<span style=color:#ff79c6>&amp;</span> circle) {
</span></span><span style=display:flex><span>            radius <span style=color:#ff79c6>=</span> circle.radius;
</span></span><span style=display:flex><span>        }
</span></span></code></pre></td></tr></table></div></div></li><li><p>构造函数调用</p><ul><li><p>括号法</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>Circle <span style=color:#50fa7b>circle</span>(<span style=color:#bd93f9>5.0</span>);
</span></span></code></pre></td></tr></table></div></div></li><li><p>显示法</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>Circle circle <span style=color:#ff79c6>=</span> Circle(<span style=color:#bd93f9>5.0</span>);
</span></span></code></pre></td></tr></table></div></div></li><li><p>隐式转换法</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>Circle circle <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>5.0</span>;
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p><strong>拷贝构造函数调用时机</strong></p><ul><li>使用一个已经创建完毕的对象来初始化一个新对象</li><li>值传递的方式给函数参数传值</li><li>以值方式返回局部对象</li></ul></li><li><p><strong>构造函数调用规则</strong>：c++编译器至少给一个类添加三个函数</p><ul><li>默认构造函数(无参、函数体为空)</li><li>默认析构函数(无参、函数体为空)</li><li>默认拷贝构造函数，值拷贝</li></ul><p>如果用户有定义，则不使用默认构造</p></li></ul><h4 id=423-深拷贝和浅拷贝>4.2.3 深拷贝和浅拷贝<a hidden class=anchor aria-hidden=true href=#423-深拷贝和浅拷贝>#</a></h4><ul><li><p>浅拷贝：简单的赋值操作，例如<strong>编译器提供的拷贝构造函数</strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>        Person (<span style=color:#ff79c6>const</span> Person <span style=color:#ff79c6>&amp;</span>p) {
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>this</span><span style=color:#ff79c6>-&gt;</span>age <span style=color:#ff79c6>=</span> p.age;
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>this</span><span style=color:#ff79c6>-&gt;</span>height <span style=color:#ff79c6>=</span> p.height;
</span></span><span style=display:flex><span>            cout <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34;拷贝&#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>        }
</span></span></code></pre></td></tr></table></div></div></li><li><p>深拷贝：在堆区重新申请空间，<strong>自己写拷贝构造函数，在堆区申请空间</strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>        Person (<span style=color:#ff79c6>const</span> Person <span style=color:#ff79c6>&amp;</span>p) {
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>this</span><span style=color:#ff79c6>-&gt;</span>age <span style=color:#ff79c6>=</span> p.age;
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>this</span><span style=color:#ff79c6>-&gt;</span>height <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> <span style=color:#8be9fd>int</span>(<span style=color:#ff79c6>*</span>p.height);
</span></span><span style=display:flex><span>            cout <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34;拷贝&#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>        }
</span></span></code></pre></td></tr></table></div></div></li><li><p>当我们的构造函数使用<code>new</code>关键字在堆区申请空间时，需要在析构函数中用<code>delete</code>关键字进行释放</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>        <span style=color:#ff79c6>~</span>Person () {
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>delete</span> <span style=color:#ff79c6>this</span><span style=color:#ff79c6>-&gt;</span>height;
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>this</span><span style=color:#ff79c6>-&gt;</span>height <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>NULL</span>;
</span></span><span style=display:flex><span>            cout <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34;析构&#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>        }
</span></span></code></pre></td></tr></table></div></div></li></ul><h4 id=424-初始化列表>4.2.4 初始化列表<a hidden class=anchor aria-hidden=true href=#424-初始化列表>#</a></h4><blockquote><p>一种构造函数的新写法，没大用</p></blockquote><ul><li><p>语法：<code>构造函数():属性1(值1)，属性2(值2)...{}</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>Person(<span style=color:#8be9fd>int</span> a, <span style=color:#8be9fd>int</span> b, <span style=color:#8be9fd>int</span> c) <span style=color:#ff79c6>:</span> m_A(a), m_B(b), m_C(c) {}
</span></span></code></pre></td></tr></table></div></div></li></ul><h4 id=425-类对象作为类成员>4.2.5 类对象作为类成员<a hidden class=anchor aria-hidden=true href=#425-类对象作为类成员>#</a></h4><ul><li><p>一个类中的成员可以为另一个类的对象</p></li><li><p>先构造成员类的对象再构造自身</p></li><li><p>先析构自身再析构成员类的对象</p></li></ul><h4 id=426-静态成员>4.2.6 静态成员<a hidden class=anchor aria-hidden=true href=#426-静态成员>#</a></h4><ul><li><p>静态成员变量，不属于类的对象上</p><ul><li><p><strong>类的所有对象共享同一份数据</strong></p></li><li><p>在编译阶段分配内存</p></li><li><p>类内声明，<strong>类外初始化：这是必须的，需要使用解析符指定命名空间(该类)</strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>Person</span>{
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>public</span><span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>static</span> <span style=color:#8be9fd>int</span> num;
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>int</span> Person<span style=color:#ff79c6>::</span>num <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>100</span>;
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>访问方式：通过类/对象进行访问</strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>Person <span style=color:#ff79c6>::</span> num
</span></span><span style=display:flex><span>person.num    
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p>静态成员函数</p><ul><li><strong>类的所有对象共享同一个函数</strong></li><li><strong>静态成员函数只能访问静态成员变量</strong></li><li><strong>通过对象访问/通过类名访问</strong></li></ul></li></ul><h3 id=43-c对象模型和this指针>4.3 C++对象模型和this指针<a hidden class=anchor aria-hidden=true href=#43-c对象模型和this指针>#</a></h3><h4 id=431-成员变量和成员函数分开存储>4.3.1 成员变量和成员函数分开存储<a hidden class=anchor aria-hidden=true href=#431-成员变量和成员函数分开存储>#</a></h4><blockquote><p>空对象占用内存空间：1字节</p><p>C++编译器会给每个空对象分配一个字节空间，用来区别空对象占用的位置</p></blockquote><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>Person</span>{
</span></span><span style=display:flex><span>    <span style=color:#8be9fd>int</span> m_A; <span style=color:#6272a4>// 非静态成员变量 属于类的对象上
</span></span></span><span style=display:flex><span>    <span style=color:#ff79c6>static</span> <span style=color:#8be9fd>int</span> m_B; <span style=color:#6272a4>// 静态成员变量 不属于类的对象上
</span></span></span><span style=display:flex><span>    <span style=color:#8be9fd>void</span> <span style=color:#50fa7b>func</span>() {} <span style=color:#6272a4>// 非静态成员函数 不属于类的对象上 即代码只有一份
</span></span></span><span style=display:flex><span>    <span style=color:#ff79c6>static</span> <span style=color:#8be9fd>void</span> <span style=color:#50fa7b>func2</span>() {} <span style=color:#6272a4>// 静态成员函数 不属于类的对象上
</span></span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><ul><li>只有非静态成员变量属于类的对象</li></ul><h4 id=432-this指针>4.3.2 this指针<a hidden class=anchor aria-hidden=true href=#432-this指针>#</a></h4><blockquote><p>由于成员函数不属于类的对象，多个同类型的对象共用同一块代码</p><p>这个代码块如何区分是哪个对象调用自己？</p></blockquote><ul><li><p>通过<code>this</code>指针可以解决这个问题，指向调用对象，对象本身即<code>*this</code></p></li><li><p><code>this</code>指针的作用</p><ul><li>当形参和成员变量重名时，可以通过<code>this</code>指针进行区分</li><li>在类的非静态成员函数中返回对象本身，可以使用<code>return *this</code></li></ul></li><li><p><strong>注意当想要返回自身时，要返回自身的引用，不要返回相应的数据类型</strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>Person <span style=color:#ff79c6>&amp;</span> func() {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> <span style=color:#ff79c6>*</span><span style=color:#ff79c6>this</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>我们知道函数中的变量位于栈区，运行结束后会被回收，如果返回相应的数据类型，会创建一个新的对象返回,原来的对象被销毁.</p></li></ul><h4 id=433-空指针访问成员函数>4.3.3 空指针访问成员函数<a hidden class=anchor aria-hidden=true href=#433-空指针访问成员函数>#</a></h4><ul><li><p>C++中<strong>允许空指针调用成员函数</strong>，但要注意有没有用到<code>this</code>指针（因为此时<code>this</code>为空）</p></li><li><p>例如</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#8be9fd>void</span> <span style=color:#50fa7b>showClass</span>() {
</span></span><span style=display:flex><span>    cout <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34;220617&#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>void</span> <span style=color:#50fa7b>showName</span>() {
</span></span><span style=display:flex><span>    cout <span style=color:#ff79c6>&lt;&lt;</span> name <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>void</span> <span style=color:#50fa7b>showAge</span>() {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>if</span> (<span style=color:#ff79c6>this</span> <span style=color:#ff79c6>==</span> <span style=color:#8be9fd;font-style:italic>NULL</span>) {
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>return</span>;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>    cout <span style=color:#ff79c6>&lt;&lt;</span> age <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Person p <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>NULL</span>;
</span></span><span style=display:flex><span>p.showClass(); <span style=color:#6272a4>// success
</span></span></span><span style=display:flex><span>p.showName(); <span style=color:#6272a4>// failed
</span></span></span><span style=display:flex><span>p.showAge(); <span style=color:#6272a4>// success
</span></span></span></code></pre></td></tr></table></div></div></li></ul><h4 id=434-const修饰成员函数>4.3.4 <code>const</code>修饰成员函数<a hidden class=anchor aria-hidden=true href=#434-const修饰成员函数>#</a></h4><ul><li><p><strong>常函数</strong></p><ul><li><p>成员函数后加<code>const</code>即为<strong>常函数</strong>，这个<code>const</code>实际是加在<code>this</code>指针上，不允许修改<code>this</code>指向的值</p></li><li><p>常函数内不可以修改成员属性</p></li><li><p>成员属性声明时加关键字<code>mutable</code>后在常函数中依然可以修改</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>Person</span> {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>public</span> <span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>        <span style=color:#8be9fd>void</span> showPerson() <span style=color:#ff79c6>const</span> {
</span></span><span style=display:flex><span>            m_A <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>100</span>; <span style=color:#6272a4>// failed
</span></span></span><span style=display:flex><span>            m_B <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>200</span>; <span style=color:#6272a4>// success
</span></span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8be9fd>int</span> m_A;
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>mutable</span> <span style=color:#8be9fd>int</span> m_B; <span style=color:#6272a4>// mutable关键字
</span></span></span><span style=display:flex><span>};
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p><strong>常对象</strong></p><ul><li><p>声明对象前加<code>const</code>该对象即为常对象</p></li><li><p>常对象只能调用常函数</p></li><li><p><strong>常对象中不允许修改普通变量，允许修改<code>mutable</code>修饰的变量</strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>const</span> Person p;
</span></span><span style=display:flex><span>p.m_A <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>100</span>; <span style=color:#6272a4>// failed
</span></span></span><span style=display:flex><span>p.m_B <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>100</span>; <span style=color:#6272a4>// success
</span></span></span></code></pre></td></tr></table></div></div></li></ul></li></ul><h3 id=44-友元>4.4 友元<a hidden class=anchor aria-hidden=true href=#44-友元>#</a></h3><blockquote><p>生活中你的家有客厅(public)，你的卧室(private)</p><p>客厅所有的客人都可以进去，但是你的卧室是私有的，也就是说只有你自己能进去</p><p>但是，你可以允许你的朋友进入卧室</p></blockquote><ul><li><p>在程序里，有些私有属性也想要类外特殊的一些函数或类进行访问，就需要用到<strong>友元</strong>的技术</p></li><li><p><strong>友元：让一个函数或类访问另一个类中的私有成员</strong></p></li><li><p><strong>友元的关键字为<code>friend</code></strong></p></li><li><p>友元的三种实现</p><ul><li><p>全局函数做友元：在类中加入<code>friend 全局函数定义</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>Building</span> {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>friend</span> <span style=color:#8be9fd>void</span> <span style=color:#50fa7b>goodGay</span>(Building <span style=color:#ff79c6>&amp;</span>building); <span style=color:#6272a4>// 声明全局函数做友元 friend
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>public</span> <span style=color:#ff79c6>:</span> 
</span></span><span style=display:flex><span>        string sittingRoom;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>private</span> <span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>        string bedRoom;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>public</span> <span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>        Building () {
</span></span><span style=display:flex><span>            sittingRoom <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;客厅&#34;</span>;
</span></span><span style=display:flex><span>            bedRoom <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;卧室&#34;</span>;
</span></span><span style=display:flex><span>        }        
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>void</span> <span style=color:#50fa7b>goodGay</span>(Building <span style=color:#ff79c6>&amp;</span>building) {
</span></span><span style=display:flex><span>    cout <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34;好基友正在访问：&#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> building.sittingRoom <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    cout <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34;好基友正在访问：&#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> building.bedRoom <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div></li><li><p>类做友元：在类中加入<code>friend class 类名</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>Building</span> {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>friend</span> <span style=color:#ff79c6>class</span> <span style=color:#50fa7b>GoodGay</span>; <span style=color:#6272a4>// 声明类做友元
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>public</span> <span style=color:#ff79c6>:</span> 
</span></span><span style=display:flex><span>        string sittingRoom;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>private</span> <span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>        string bedRoom;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>public</span> <span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>        Building () {
</span></span><span style=display:flex><span>            sittingRoom <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;客厅&#34;</span>;
</span></span><span style=display:flex><span>            bedRoom <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;卧室&#34;</span>;
</span></span><span style=display:flex><span>        }        
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>GoodGay</span>{
</span></span><span style=display:flex><span>    Building <span style=color:#ff79c6>*</span>building;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>public</span> <span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>        GoodGay() {
</span></span><span style=display:flex><span>            building <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> Building;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#8be9fd>void</span> <span style=color:#50fa7b>visit</span>() {
</span></span><span style=display:flex><span>            cout <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34;好基友正在访问：&#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> building<span style=color:#ff79c6>-&gt;</span>sittingRoom <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>            cout <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34;好基友正在访问：&#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> building<span style=color:#ff79c6>-&gt;</span>bedRoom <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>};
</span></span></code></pre></td></tr></table></div></div></li><li><p>成员函数做友元</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>Building</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>GoodGay</span>{
</span></span><span style=display:flex><span>    Building <span style=color:#ff79c6>*</span>building;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>public</span> <span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>        GoodGay();
</span></span><span style=display:flex><span>        <span style=color:#8be9fd>void</span> <span style=color:#50fa7b>visit</span>();
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>Building</span> {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>friend</span> <span style=color:#8be9fd>void</span> GoodGay<span style=color:#ff79c6>::</span>visit(); <span style=color:#6272a4>// friend声明该类下成员函数为友元
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>public</span> <span style=color:#ff79c6>:</span> 
</span></span><span style=display:flex><span>        string sittingRoom;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>private</span> <span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>        string bedRoom;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>public</span> <span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>        Building () {
</span></span><span style=display:flex><span>            sittingRoom <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;客厅&#34;</span>;
</span></span><span style=display:flex><span>            bedRoom <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;卧室&#34;</span>;
</span></span><span style=display:flex><span>        }        
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>GoodGay<span style=color:#ff79c6>::</span>GoodGay() { <span style=color:#6272a4>// 方法在类外实现，需要指明作用域
</span></span></span><span style=display:flex><span>    building <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> Building;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>void</span> GoodGay<span style=color:#ff79c6>::</span>visit() {
</span></span><span style=display:flex><span>    cout <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34;好基友正在访问：&#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> building<span style=color:#ff79c6>-&gt;</span>sittingRoom <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    cout <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34;好基友正在访问：&#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> building<span style=color:#ff79c6>-&gt;</span>bedRoom <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div></li></ul></li></ul><h3 id=45-运算符重载overloaded>4.5 运算符重载(<code>overloaded</code>)<a hidden class=anchor aria-hidden=true href=#45-运算符重载overloaded>#</a></h3><blockquote><p>运算符重载：对已有的运算符进行重新定义，赋予其另一种功能，适应不同的数据类型</p><p>类似于java中override</p></blockquote><h4 id=451-加号运算符重载-operator>4.5.1 加号运算符重载 <code>operator+</code><a hidden class=anchor aria-hidden=true href=#451-加号运算符重载-operator>#</a></h4><ul><li><p>实现两个自定义数据类型相加的运算</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>person1 <span style=color:#ff79c6>+</span> person2 <span style=color:#ff79c6>?</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>编译器给了一个通用名称<code>operator+</code></strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>Person p3 <span style=color:#ff79c6>=</span> p1.<span style=color:#ff79c6>operator</span><span style=color:#ff79c6>+</span>(p2);
</span></span><span style=display:flex><span>Person p3 <span style=color:#ff79c6>=</span> p1 <span style=color:#ff79c6>+</span> p2;
</span></span></code></pre></td></tr></table></div></div></li><li><p>通过成员函数重载+号</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>Person</span> {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>public</span> <span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>        <span style=color:#8be9fd>int</span> a;
</span></span><span style=display:flex><span>        <span style=color:#8be9fd>int</span> b;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#6272a4>// 1.成员函数重载
</span></span></span><span style=display:flex><span>        Person <span style=color:#ff79c6>operator</span><span style=color:#ff79c6>+</span>(Person <span style=color:#ff79c6>&amp;</span>p) {
</span></span><span style=display:flex><span>            Person temp;
</span></span><span style=display:flex><span>            temp.a <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>this</span><span style=color:#ff79c6>-&gt;</span>a <span style=color:#ff79c6>+</span> p.a;
</span></span><span style=display:flex><span>            temp.b <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>this</span><span style=color:#ff79c6>-&gt;</span>b <span style=color:#ff79c6>+</span> p.b;
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>return</span> temp;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>};
</span></span></code></pre></td></tr></table></div></div></li><li><p>通过全局函数重载+号</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>Person <span style=color:#ff79c6>operator</span><span style=color:#ff79c6>+</span>(Person <span style=color:#ff79c6>&amp;</span>p1, Person <span style=color:#ff79c6>&amp;</span>p2) {
</span></span><span style=display:flex><span>    Person temp;
</span></span><span style=display:flex><span>    temp.a <span style=color:#ff79c6>=</span> p1.a <span style=color:#ff79c6>+</span> p2.a;
</span></span><span style=display:flex><span>    temp.b <span style=color:#ff79c6>=</span> p1.b <span style=color:#ff79c6>+</span> p2.b;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> temp;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div></li><li><p>运算符重载也可以进行函数重载</p></li><li><p><strong>对于内置的数据类型的表达式的运算符不可以进行重载</strong></p></li></ul><h4 id=452-左移运算符重载operator>4.5.2 左移运算符重载<code>operator&lt;&lt;</code><a hidden class=anchor aria-hidden=true href=#452-左移运算符重载operator>#</a></h4><blockquote><p>cout &#171; person &#171; endl; 输出自定义数据类型</p></blockquote><ul><li><p>全局函数重载左移运算符</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>ostream <span style=color:#ff79c6>&amp;</span> <span style=color:#ff79c6>operator</span><span style=color:#ff79c6>&lt;&lt;</span>(ostream <span style=color:#ff79c6>&amp;</span>cout, Person <span style=color:#ff79c6>&amp;</span>p) {
</span></span><span style=display:flex><span>    cout <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34;a = &#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> p.a <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34; b = &#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> p.b;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> cout;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div></li><li><p><code>ostream</code>标注输出流</p></li><li><p>链式编程：返回自身</p></li></ul><h4 id=453-递增运算符重载operator>4.5.3 递增运算符重载<code>operator++</code><a hidden class=anchor aria-hidden=true href=#453-递增运算符重载operator>#</a></h4><ul><li><p>前置递增，成员函数重载，<strong>返回引用，保证操作的是同一个值</strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>        MyInteger<span style=color:#ff79c6>&amp;</span> <span style=color:#ff79c6>operator</span><span style=color:#ff79c6>++</span>() {
</span></span><span style=display:flex><span>            num<span style=color:#ff79c6>++</span>;
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>return</span> <span style=color:#ff79c6>*</span><span style=color:#ff79c6>this</span>;
</span></span><span style=display:flex><span>        }
</span></span></code></pre></td></tr></table></div></div></li><li><p>后置递增，<strong>利用占位参数<code>int</code>进行函数重载，区分前置和后置</strong>，<strong>返回值</strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>        MyInteger <span style=color:#ff79c6>operator</span><span style=color:#ff79c6>++</span>(<span style=color:#8be9fd>int</span>) {
</span></span><span style=display:flex><span>            MyInteger temp <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>*</span><span style=color:#ff79c6>this</span>;
</span></span><span style=display:flex><span>            num<span style=color:#ff79c6>++</span>;
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>return</span> temp;
</span></span><span style=display:flex><span>        }
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>前置递增返回引用，后置递增返回值</strong></p></li></ul><h4 id=454-赋值运算符重载operator>4.5.4 赋值运算符重载<code>operator=</code><a hidden class=anchor aria-hidden=true href=#454-赋值运算符重载operator>#</a></h4><blockquote><p><strong>c++默认给类添加operator=，对值进行拷贝，这个拷贝是浅拷贝，注意指针问题</strong></p></blockquote><ul><li><p>将默认的浅拷贝重载为深拷贝</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>Person</span>{
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>public</span> <span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>        <span style=color:#8be9fd>int</span> <span style=color:#ff79c6>*</span> age;
</span></span><span style=display:flex><span>        Person(<span style=color:#8be9fd>int</span> age){
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>this</span><span style=color:#ff79c6>-&gt;</span>age <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> <span style=color:#8be9fd>int</span>(age);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>~</span>Person(){
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>delete</span> <span style=color:#ff79c6>this</span><span style=color:#ff79c6>-&gt;</span>age;
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>this</span><span style=color:#ff79c6>-&gt;</span>age <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>NULL</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        Person <span style=color:#ff79c6>&amp;</span> <span style=color:#ff79c6>operator</span><span style=color:#ff79c6>=</span>(Person <span style=color:#ff79c6>&amp;</span>p){
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>if</span>(<span style=color:#ff79c6>this</span><span style=color:#ff79c6>-&gt;</span>age <span style=color:#ff79c6>!=</span> <span style=color:#8be9fd;font-style:italic>NULL</span>){
</span></span><span style=display:flex><span>                <span style=color:#ff79c6>delete</span> <span style=color:#ff79c6>this</span><span style=color:#ff79c6>-&gt;</span>age;
</span></span><span style=display:flex><span>                <span style=color:#ff79c6>this</span><span style=color:#ff79c6>-&gt;</span>age <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>NULL</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>this</span><span style=color:#ff79c6>-&gt;</span>age <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> <span style=color:#8be9fd>int</span>(<span style=color:#ff79c6>*</span>p.age);
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>return</span> <span style=color:#ff79c6>*</span><span style=color:#ff79c6>this</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>};
</span></span></code></pre></td></tr></table></div></div></li></ul><h4 id=455-关系运算符重载>4.5.5 关系运算符重载<a hidden class=anchor aria-hidden=true href=#455-关系运算符重载>#</a></h4><blockquote><p>== > >= &lt; &lt;= != 等等</p></blockquote><ul><li><p>成员函数重载</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#8be9fd>bool</span> <span style=color:#ff79c6>operator</span><span style=color:#ff79c6>==</span>(Person <span style=color:#ff79c6>&amp;</span>p) {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>if</span> (<span style=color:#ff79c6>this</span><span style=color:#ff79c6>-&gt;</span>name <span style=color:#ff79c6>==</span> p.name <span style=color:#ff79c6>&amp;&amp;</span> <span style=color:#ff79c6>this</span><span style=color:#ff79c6>-&gt;</span>age <span style=color:#ff79c6>==</span> p.age) {
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>return</span> <span style=color:#8be9fd;font-style:italic>true</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>return</span> <span style=color:#8be9fd;font-style:italic>false</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div></li></ul><h4 id=456-函数调用运算符重载operator>4.5.6 函数调用运算符重载<code>operator()</code><a hidden class=anchor aria-hidden=true href=#456-函数调用运算符重载operator>#</a></h4><ul><li><p>函数调用运算符<code>()</code>可以进行重载</p></li><li><p>重载后使用的方式非常像函数的调用，又称为仿函数</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>MyPrint</span> {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>public</span> <span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>        <span style=color:#8be9fd>void</span> <span style=color:#ff79c6>operator</span>()(string str) {
</span></span><span style=display:flex><span>            cout <span style=color:#ff79c6>&lt;&lt;</span> str <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#8be9fd>void</span> <span style=color:#50fa7b>operator</span>()(string str, <span style=color:#8be9fd>int</span> num) {
</span></span><span style=display:flex><span>            cout <span style=color:#ff79c6>&lt;&lt;</span> str <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34; &#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> num <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd>void</span> <span style=color:#50fa7b>test01</span>() {
</span></span><span style=display:flex><span>    MyPrint myPrint;
</span></span><span style=display:flex><span>    myPrint(<span style=color:#f1fa8c>&#34;Hello World&#34;</span>);
</span></span><span style=display:flex><span>    myPrint(<span style=color:#f1fa8c>&#34;Hello World&#34;</span>, <span style=color:#bd93f9>100</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div></li><li><p>仿函数没有固定的写法，非常灵活，可以通过函数的重载定义不同的函数</p></li><li><p><strong>匿名函数对象：当前行执行完后直接释放，避免创建对象</strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#8be9fd>void</span> <span style=color:#50fa7b>test02</span>() {
</span></span><span style=display:flex><span>    MyPrint()(<span style=color:#f1fa8c>&#34;hello world&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div></li></ul><h3 id=46-继承>4.6 继承<a hidden class=anchor aria-hidden=true href=#46-继承>#</a></h3><h4 id=461-继承的基本语法>4.6.1 继承的基本语法<a hidden class=anchor aria-hidden=true href=#461-继承的基本语法>#</a></h4><ul><li><p>减少重复的代码</p></li><li><p>语法：<code>class 子类 : 继承方式 父类</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>Java</span> <span style=color:#ff79c6>:</span> <span style=color:#ff79c6>public</span> Basepage {
</span></span><span style=display:flex><span>    <span style=color:#6272a4>/*code*/</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div></li><li><p>子类中包含从父类中继承的内容和自己增加的成员</p></li></ul><h4 id=462-继承方式>4.6.2 继承方式<a hidden class=anchor aria-hidden=true href=#462-继承方式>#</a></h4><ul><li>公共继承：子类继承属性不改变</li><li>保护继承：子类继承父类中<code>public</code>和<code>protected</code>均为<code>protected</code>，<code>private</code>不变</li><li>私有继承：子类继承父类中全部属性转换为<code>private</code></li></ul><p>​ 可以用一张图来概括：不同的继承方式会改变子类中的成员属性</p><p><img alt=image-20240716150648754 loading=lazy src=/img/image-20240716150648754.png></p><h4 id=463-继承中的对象模型>4.6.3 继承中的对象模型<a hidden class=anchor aria-hidden=true href=#463-继承中的对象模型>#</a></h4><ul><li>子类中包含父类中继承的属性和自身新增的属性</li></ul><h4 id=464-继承中的构造和析构顺序>4.6.4 继承中的构造和析构顺序<a hidden class=anchor aria-hidden=true href=#464-继承中的构造和析构顺序>#</a></h4><ul><li>子类继承父类后，当创建子类对象，也会调用父类的构造函数</li><li>构造：先构造父类后构造子类</li><li>析构：先析构子类后析构父类</li></ul><h4 id=465-继承中同名成员处理方式>4.6.5 继承中同名成员处理方式<a hidden class=anchor aria-hidden=true href=#465-继承中同名成员处理方式>#</a></h4><ul><li><p>例如同名成员属性</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>Base1</span> {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>public</span> <span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>        <span style=color:#8be9fd>int</span> a;
</span></span><span style=display:flex><span>        Base1() {
</span></span><span style=display:flex><span>            a <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>10</span>;
</span></span><span style=display:flex><span>        }    
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>Son</span> <span style=color:#ff79c6>:</span> <span style=color:#ff79c6>public</span> Base1 {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>public</span> <span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>        <span style=color:#8be9fd>int</span> a;
</span></span><span style=display:flex><span>        Son() {
</span></span><span style=display:flex><span>            a <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>20</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>};
</span></span></code></pre></td></tr></table></div></div></li><li><p>如果通过子类对象，访问父类中同名成员，<strong>需要增加作用域</strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>son.Base<span style=color:#ff79c6>::</span>a;
</span></span></code></pre></td></tr></table></div></div></li><li><p>如果通过子类对象，访问子类中同名成员，直接访问即可</p></li><li><p>同名成员函数同理</p></li></ul><h4 id=466-继承中同名静态成员处理>4.6.6 继承中同名静态成员处理<a hidden class=anchor aria-hidden=true href=#466-继承中同名静态成员处理>#</a></h4><ul><li><p>访问子类中同名成员，直接访问即可</p></li><li><p>访问父类同名成员，<strong>需要增加作用域</strong></p></li><li><p><strong>静态：通过对象/类进行访问</strong></p></li></ul><h4 id=467-多继承语法>4.6.7 多继承语法<a hidden class=anchor aria-hidden=true href=#467-多继承语法>#</a></h4><blockquote><p>不同于java，C++中允许多继承</p></blockquote><ul><li>语法：<code>class 子类 ： 继承方式 父类1 ，继承方式 父类2 ...</code></li><li>加作用域区分同名变量</li></ul><h4 id=468-菱形继承问题>4.6.8 菱形继承问题<a hidden class=anchor aria-hidden=true href=#468-菱形继承问题>#</a></h4><ul><li>两个类继承同一个父类</li><li>又有某个类继承两个子类</li></ul><p><img alt=image-20240716154955940 loading=lazy src=/img/image-20240716154955940.png></p><ul><li><p>问题描述：动物类中有一个属性<code>age</code>，羊和驼继承动物类，羊驼继承羊和驼后就会有两个<code>age</code>属性</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>Animal</span> {
</span></span><span style=display:flex><span><span style=color:#ff79c6>public</span><span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>    <span style=color:#8be9fd>int</span> m_age;
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>Sheep</span> <span style=color:#ff79c6>:</span> <span style=color:#ff79c6>public</span> Animal {};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>Tuo</span> <span style=color:#ff79c6>:</span> <span style=color:#ff79c6>public</span> Animal {};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>SheepTuo</span> <span style=color:#ff79c6>:</span> <span style=color:#ff79c6>public</span> Sheep, <span style=color:#ff79c6>public</span> Tuo {};
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>利用虚继承解决菱形继承问题：加<code>virtual</code>关键字</strong>，此时<code>Animal</code>称为虚基类</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>Sheep</span> <span style=color:#ff79c6>:</span> <span style=color:#ff79c6>virtual</span> <span style=color:#ff79c6>public</span> Animal {};
</span></span><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>Tuo</span> <span style=color:#ff79c6>:</span> <span style=color:#ff79c6>virtual</span> <span style=color:#ff79c6>public</span> Animal {};
</span></span></code></pre></td></tr></table></div></div></li><li><p>虚继承中继承了虚基类指针，两个继承的子类指向同一个虚基类表</p></li></ul><h3 id=47-多态>4.7 多态<a hidden class=anchor aria-hidden=true href=#47-多态>#</a></h3><h4 id=471-基本概念>4.7.1 基本概念<a hidden class=anchor aria-hidden=true href=#471-基本概念>#</a></h4><ul><li><p>静态多态：函数重载和运算符重载</p><ul><li>地址早绑定：编译阶段确定函数地址</li></ul></li><li><p>动态多态：<strong>派生类和虚函数实现运行时多态</strong></p><ul><li><p>地址晚绑定：运行阶段确定函数地址</p></li><li><p><strong>有继承关系</strong></p></li><li><p><strong>子类要重写(<code>override</code>)父类中的虚函数</strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>Animal</span> {
</span></span><span style=display:flex><span><span style=color:#ff79c6>public</span><span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>virtual</span> <span style=color:#8be9fd>void</span> speak() {
</span></span><span style=display:flex><span>        cout <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34;动物在说话&#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>class</span> <span style=color:#50fa7b>Cat</span> <span style=color:#ff79c6>:</span> <span style=color:#ff79c6>public</span> Animal {
</span></span><span style=display:flex><span><span style=color:#ff79c6>public</span><span style=color:#ff79c6>:</span>
</span></span><span style=display:flex><span>    <span style=color:#8be9fd>void</span> speak() {
</span></span><span style=display:flex><span>        cout <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34;小猫在说话&#34;</span> <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span></code></pre></td></tr></table></div></div></li><li><p>使用：父类的引用或指针指向子类</p></li></ul></li><li><p><strong>当在有子类的父类中声明虚函数时，父类对象的存储空间中会增加一个<code>vfptr</code>：虚函数表指针</strong></p><ul><li>该指针指向一个虚函数表</li><li>虚函数表内部记录虚函数地址</li><li>当子类<strong>重写</strong>父类的虚函数，子类中的虚函数表内部会替换为子类的虚函数地址</li></ul></li><li><p><strong>当父类的指针或引用指向之类对象时，发生运行时多态</strong></p></li></ul><h4 id=472-纯虚函数和抽象类>4.7.2 纯虚函数和抽象类<a hidden class=anchor aria-hidden=true href=#472-纯虚函数和抽象类>#</a></h4><ul><li>在多态中，通常父类中虚函数的实现是毫无意义的，<strong>主要都是调用子类重写的内容</strong></li><li><strong>因此可以将虚函数改为纯虚函数</strong></li><li><strong>纯虚函数语法</strong><ul><li><code>virtual 返回值类型 函数名 (参数列表) = 0；</code></li></ul></li><li><strong>当类中有了纯虚函数，这个类也称为抽象类</strong></li><li><strong>抽象类特点</strong><ul><li>无法实例化对象</li><li><strong>抽象类的子类必须要重写父类中的纯虚函数</strong></li></ul></li></ul><h4 id=473-虚析构和纯虚析构>4.7.3 虚析构和纯虚析构<a hidden class=anchor aria-hidden=true href=#473-虚析构和纯虚析构>#</a></h4><ul><li><p>父类指针在析构时，不会调用子类中的析构函数，如果子类中有属性开辟到堆区，会造成内存泄漏</p></li><li><p><strong>将父类中的析构函数改为虚析构或纯虚析构</strong>，从而调用子类的析构函数</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>virtual</span> <span style=color:#ff79c6>~</span>Animal() {
</span></span><span style=display:flex><span>    <span style=color:#6272a4>/*code*/</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>与纯虚函数不同的是，纯虚析构同样需要代码实现</strong></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>virtual</span> <span style=color:#ff79c6>~</span>Animal() <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; <span style=color:#6272a4>// 在类中声明纯虚析构
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Animal<span style=color:#ff79c6>::~</span>Animal() { <span style=color:#6272a4>// 在类外进行纯虚析构定义
</span></span></span><span style=display:flex><span>    <span style=color:#6272a4>/*code*/</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div></li></ul><h2 id=5-c文件操作>5. C++文件操作<a hidden class=anchor aria-hidden=true href=#5-c文件操作>#</a></h2><blockquote><p>对文件进行操作需要包含头文件 <code>&lt;fstream></code></p></blockquote><ul><li>文件<ul><li>文本文件：以ASCII码形式存储</li><li>二进制文件：以二进制形式存储</li></ul></li><li>操作文件<ul><li><code>ofstream</code>写操作</li><li><code>ifstream</code>读操作</li><li><code>fstream</code>读写操作</li></ul></li></ul><h3 id=51-文本文件>5.1 文本文件<a hidden class=anchor aria-hidden=true href=#51-文本文件>#</a></h3><p>​ 写文件步骤如下</p><ul><li><p>包含头文件</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff79c6>#include&lt;fstream&gt;
</span></span></span></code></pre></td></tr></table></div></div></li><li><p>创建流对象</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>ofstream ofs; <span style=color:#6272a4>// 输出流对象
</span></span></span></code></pre></td></tr></table></div></div></li><li><p>打开文件</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>ofs.open(<span style=color:#f1fa8c>&#34;文件路径&#34;</span>，打开方式);
</span></span></code></pre></td></tr></table></div></div><table><thead><tr><th>文件打开方式</th><th>解释</th></tr></thead><tbody><tr><td><code>ios::in</code></td><td>为读文件而打开文件</td></tr><tr><td><code>ios::out</code></td><td>为写文件而打开文件</td></tr><tr><td><code>ios::ate</code></td><td>初始位置：文件尾</td></tr><tr><td><code>ios:app</code></td><td>追加方式写文件</td></tr><tr><td><code>ios::trunc</code></td><td>如果文件存在则先删除后创建</td></tr><tr><td><code>ios::binary</code></td><td>二进制方式</td></tr></tbody></table><p><strong>可以利用<code>|</code>操作符配合使用文件打开方式</strong></p></li><li><p>写数据</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>ofs <span style=color:#ff79c6>&lt;&lt;</span> <span style=color:#f1fa8c>&#34;写入的数据&#34;</span>;
</span></span></code></pre></td></tr></table></div></div></li><li><p>关闭文件</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>ofs.close();
</span></span></code></pre></td></tr></table></div></div></li></ul><p>​ 读文件步骤</p><ul><li><p>创建流对象</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>ifstream ifs;
</span></span></code></pre></td></tr></table></div></div></li><li><p>打开文件</p></li><li><p>读数据</p><ul><li><p>第一种</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>    <span style=color:#8be9fd>char</span> buffer[<span style=color:#bd93f9>1024</span>] <span style=color:#ff79c6>=</span> {<span style=color:#bd93f9>0</span>};
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>while</span> (ifs <span style=color:#ff79c6>&gt;&gt;</span> buffer) {
</span></span><span style=display:flex><span>        cout <span style=color:#ff79c6>&lt;&lt;</span> buffer <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span></code></pre></td></tr></table></div></div></li><li><p>第二种</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>    <span style=color:#8be9fd>char</span> buffer2[<span style=color:#bd93f9>1024</span>] <span style=color:#ff79c6>=</span> {<span style=color:#bd93f9>0</span>};
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>while</span> (ifs.getline(buffer2, <span style=color:#bd93f9>1024</span>)) {
</span></span><span style=display:flex><span>        cout <span style=color:#ff79c6>&lt;&lt;</span> buffer2 <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span></code></pre></td></tr></table></div></div></li><li><p>第三种</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>    string buffer3;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>while</span> (getline(ifs, buffer3)) {
</span></span><span style=display:flex><span>        cout <span style=color:#ff79c6>&lt;&lt;</span> buffer3 <span style=color:#ff79c6>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>    }
</span></span></code></pre></td></tr></table></div></div></li><li><p>第四种</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>    <span style=color:#8be9fd>char</span> ch;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>while</span> ((ch <span style=color:#ff79c6>=</span> ifs.get()) <span style=color:#ff79c6>!=</span> EOF) {
</span></span><span style=display:flex><span>        cout <span style=color:#ff79c6>&lt;&lt;</span> ch;
</span></span><span style=display:flex><span>    }
</span></span></code></pre></td></tr></table></div></div></li></ul></li></ul><h3 id=52-二进制文件>5.2 二进制文件<a hidden class=anchor aria-hidden=true href=#52-二进制文件>#</a></h3><ul><li><p>二进制方式进行读写操作</p></li><li><p>打开方式指定为<code>ios::binary | ios::out[ios::in]</code></p></li><li><p>写文件：<code>ostream & write(const char *buffer, int len);</code></p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-c++ data-lang=c++><span style=display:flex><span>ofs.write(buffer, <span style=color:#ff79c6>sizeof</span>(buffer));
</span></span></code></pre></td></tr></table></div></div></li><li><p>读文件：<code>isteam & read(char * buffer, int len)</code></p></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://coder0xe.github.io/tags/july/>July</a></li></ul><nav class=paginav><a class=prev href=https://coder0xe.github.io/posts/cpp-stl%E5%BA%93/><span class=title>« Prev</span><br><span>CPP:STL库</span>
</a><a class=next href=https://coder0xe.github.io/posts/oo-unit4/><span class=title>Next »</span><br><span>OO-Unit4</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share CPP面向对象 on x" href="https://x.com/intent/tweet/?text=CPP%e9%9d%a2%e5%90%91%e5%af%b9%e8%b1%a1&amp;url=https%3a%2f%2fcoder0xe.github.io%2fposts%2fcpp%25E9%259D%25A2%25E5%2590%2591%25E5%25AF%25B9%25E8%25B1%25A1%2f&amp;hashtags=July"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share CPP面向对象 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fcoder0xe.github.io%2fposts%2fcpp%25E9%259D%25A2%25E5%2590%2591%25E5%25AF%25B9%25E8%25B1%25A1%2f&amp;title=CPP%e9%9d%a2%e5%90%91%e5%af%b9%e8%b1%a1&amp;summary=CPP%e9%9d%a2%e5%90%91%e5%af%b9%e8%b1%a1&amp;source=https%3a%2f%2fcoder0xe.github.io%2fposts%2fcpp%25E9%259D%25A2%25E5%2590%2591%25E5%25AF%25B9%25E8%25B1%25A1%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share CPP面向对象 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fcoder0xe.github.io%2fposts%2fcpp%25E9%259D%25A2%25E5%2590%2591%25E5%25AF%25B9%25E8%25B1%25A1%2f&title=CPP%e9%9d%a2%e5%90%91%e5%af%b9%e8%b1%a1"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share CPP面向对象 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fcoder0xe.github.io%2fposts%2fcpp%25E9%259D%25A2%25E5%2590%2591%25E5%25AF%25B9%25E8%25B1%25A1%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share CPP面向对象 on whatsapp" href="https://api.whatsapp.com/send?text=CPP%e9%9d%a2%e5%90%91%e5%af%b9%e8%b1%a1%20-%20https%3a%2f%2fcoder0xe.github.io%2fposts%2fcpp%25E9%259D%25A2%25E5%2590%2591%25E5%25AF%25B9%25E8%25B1%25A1%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share CPP面向对象 on telegram" href="https://telegram.me/share/url?text=CPP%e9%9d%a2%e5%90%91%e5%af%b9%e8%b1%a1&amp;url=https%3a%2f%2fcoder0xe.github.io%2fposts%2fcpp%25E9%259D%25A2%25E5%2590%2591%25E5%25AF%25B9%25E8%25B1%25A1%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share CPP面向对象 on ycombinator" href="https://news.ycombinator.com/submitlink?t=CPP%e9%9d%a2%e5%90%91%e5%af%b9%e8%b1%a1&u=https%3a%2f%2fcoder0xe.github.io%2fposts%2fcpp%25E9%259D%25A2%25E5%2590%2591%25E5%25AF%25B9%25E8%25B1%25A1%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://coder0xe.github.io/>coder0xe's blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>